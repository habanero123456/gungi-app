(this["webpackJsonpgungi-app"]=this["webpackJsonpgungi-app"]||[]).push([[0],{22:function(e,t,n){},32:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);for(var s=n(0),c=n.n(s),o=n(11),a=n.n(o),r=(n(32),n(4)),i=(n(22),n(58)),l=n(60),u=n(7),h=n.n(u),f=n(1),d=Object(i.a)((function(e){return{paper:{position:"absolute",width:120,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,2,2),marginTop:250},paperM:{position:"absolute",width:120,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(1,2,1),margin:"-98px 0 0 5px"},content:{display:"flex",justifyContent:"center",flexDirection:"column",width:120},button1:{margin:5}}})),p=function(){var e=d(),t=Object(s.useContext)(M),n=t.modal,c=t.setModal,o=Object(s.useContext)(M),a=(o.turn,o.setTurn,Object(s.useContext)(M)),r=a.attack,i=a.setAttack,u=h()({minWidth:"769px"}),p="";p="".concat(u?e.paper:e.paperM);var b=function(e){c(0);var t={num:e,offense:r.offense,defense:r.defense};i(t)};return 1===n?Object(f.jsx)("div",{id:"modal",className:p,children:Object(f.jsxs)("div",{id:"content",className:e.content,children:[Object(f.jsx)(l.a,{variant:"contained",color:"secondary",className:e.button1,onClick:function(){return b(2)},children:"\u53d6\u308b"}),Object(f.jsx)(l.a,{variant:"contained",color:"primary",className:e.button1,onClick:function(){return b(3)},children:"\u30c4\u30b1\u308b"}),Object(f.jsx)(l.a,{variant:"contained",className:e.button1,onClick:function(){return b(1)},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})}):2===n?Object(f.jsx)("div",{id:"modal",className:p,children:Object(f.jsxs)("div",{id:"content",className:e.content,children:[Object(f.jsx)(l.a,{variant:"contained",color:"primary",className:e.button1,onClick:function(){return b(3)},children:"\u30c4\u30b1\u308b"}),Object(f.jsx)(l.a,{variant:"contained",className:e.button1,onClick:function(){return b(1)},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})}):3===n?Object(f.jsx)("div",{id:"modal",className:p,children:Object(f.jsxs)("div",{id:"content",className:e.content,children:[Object(f.jsx)(l.a,{variant:"contained",color:"secondary",className:e.button1,onClick:function(){return b(2)},children:"\u53d6\u308b"}),Object(f.jsx)(l.a,{variant:"contained",className:e.button1,onClick:function(){return b(1)},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})}):null},b=Object(i.a)((function(e){return{container:{display:"flex",margin:"0 auto",width:900},gameArea:{display:"flex",margin:"0 auto",paddingTop:"50px"},leftParamsArea:{display:"flex",justifyContent:"center",width:170},rightParamsArea:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"column",width:170},paramsArea:{height:200,width:200},board:{marginTop:1},containerM:{margin:"100px auto"},gameAreaM:{display:"flex",flexDirection:"column",alignItems:"center"},ownPieceArea:{display:"flex",margin:20},paramsAreaM:{},boardM:{marginTop:1}}})),v=function(){var e=b();return h()({minWidth:"769px"})?Object(f.jsx)("div",{className:e.container,children:Object(f.jsxs)("div",{className:e.gameArea,children:[Object(f.jsxs)("div",{className:e.leftParamsArea,children:[Object(f.jsx)(g,{isWhite:!1}),Object(f.jsx)(p,{})]}),Object(f.jsx)("div",{className:e.board,children:Object(f.jsx)(w,{})}),Object(f.jsxs)("div",{className:e.rightParamsArea,children:[Object(f.jsx)("div",{className:e.paramsArea,children:Object(f.jsx)(S,{})}),Object(f.jsx)(g,{isWhite:!0})]})]})}):Object(f.jsx)("div",{className:e.containerM,children:Object(f.jsxs)("div",{className:e.gameAreaM,children:[Object(f.jsx)("div",{className:e.boardM,children:Object(f.jsx)(w,{})}),Object(f.jsxs)("div",{className:e.ownPieceArea,children:[Object(f.jsx)(g,{isWhite:!0}),Object(f.jsxs)("div",{className:e.paramsAreaM,children:[Object(f.jsx)(S,{}),Object(f.jsx)(p,{})]}),Object(f.jsx)(g,{isWhite:!1})]})]})})},j=Object(i.a)((function(e){return{container:{display:"flex",margin:0,width:"459px"},columnContainer:{flexDirection:"column",display:"flex"},rowContainer:{marginTop:-1,marginBottom:2,height:50},containerM:{display:"flex",margin:0,width:"351px"},columnContainerM:{flexDirection:"column",display:"flex"},rowContainerM:{marginTop:-1,marginBottom:2,height:38}}})),w=function(){var e=j(),t=function(e,t){return Object(f.jsx)(y,{column:e,row:t})},n=[1,2,3,4,5,6,7,8,9];return h()({minWidth:"769px"})?Object(f.jsx)("div",{className:e.container,children:Object(f.jsx)("div",{className:e.columnContainer,children:n.map((function(s){return Object(f.jsx)("div",{className:e.rowContainer,children:n.map((function(e){return t(s,e)}))})}))})}):Object(f.jsx)("div",{className:e.containerM,children:Object(f.jsx)("div",{className:e.columnContainerM,children:n.map((function(s){return Object(f.jsx)("div",{className:e.rowContainerM,children:n.map((function(e){return t(s,e)}))})}))})})},m=n(8),x=n(17),O=Object(i.a)((function(e){return{square:Object(x.a)({width:52,height:52,borderWidth:1,borderColor:"black",boxSizing:"border-box",marginLeft:-1,backgroundColor:"#F8BE75",borderSpacing:0,borderCollapse:"collapse"},"boxSizing","border-box"),squareM:Object(x.a)({width:40,height:40,borderWidth:1,borderColor:"black",boxSizing:"border-box",marginLeft:-1,backgroundColor:"#F8BE75",borderSpacing:0,borderCollapse:"collapse"},"boxSizing","border-box"),text:{fontSize:24},piece:{backgroundSize:"contain",margin:0,borderColor:"black",borderWidth:1,width:50,height:50},pieceM:{backgroundSize:"contain",margin:0,borderColor:"black",borderWidth:1,width:38,height:38},selected:{backgroundColor:"#D0D0D0"},canMove:{backgroundColor:"#f5a38e"},image:{}}})),y=function(e){var t=O(),n=Object(s.useContext)(M),c=n.pieces,o=n.setPieces,a=Object(s.useContext)(M),r=a.turn,i=a.setTurn,l=Object(s.useContext)(M),u=l.select,d=l.setSelect,p=Object(s.useContext)(M),b=p.clickFlag,v=p.setClickFlag,j=Object(s.useContext)(M),w=j.canMove,x=j.setCanMove,y=Object(s.useContext)(M),C=(y.modal,y.setModal),g=Object(s.useContext)(M),k=g.attack,N=g.setAttack,A=Object(s.useContext)(M),S=A.whitePieces,P=A.setWhitePieces,W=Object(s.useContext)(M),B=W.blackPieces,F=W.setBlackPieces,D=Object(s.useContext)(M),T=D.phase,q=D.setPhase,K=Object(s.useContext)(M),z=(K.winner,K.setWinner),E=Object(s.useContext)(M),I=E.kifu,L=E.setKifu,Y=Object(s.useContext)(M),J=(Y.yomifu,Y.setYomifu),G=Object(s.useContext)(M),H=(G.click,G.setClick),Q=Object(s.useContext)(M),R=Q.firstArata,U=Q.setFirstArata,V=Object(s.useContext)(M),X=(V.bouFlagW,V.setBouFlagW),Z=Object(s.useContext)(M),$=(Z.bouFlagB,Z.setBouFlagB),_=Object(s.useContext)(M),ee=(_.bouCheck,_.setBouCheck),te=Object(s.useContext)(M),ne=(te.curKifu,te.setCurKifu),se=10*(e.column-1)+9-e.row,ce=Array.from(c),oe=ce[se],ae=b,re=h()({minWidth:"769px"}),ie="";ie="".concat(re?t.square:t.squareM);var le="";le="".concat(re?t.piece:t.pieceM),u.num===se&&(le+=" ".concat(t.selected)),w.includes(se)&&(le+=" ".concat(t.canMove));var ue=1===r?2:1,he=se%10,fe=(se-he)/10,de=["\u5e2b","\u5927","\u4e2d","\u5c0f","\u5175","\u4f8d","\u5fcd","\u99ac","\u5f13","\u7826","\u69cd","\u8b00","\u7832","\u7b52"],pe=function(e){var t=Array.from(I);t.push(e),L(t)},be=function(){var e=ce.filter((function(e){return 1===e.whose})),t=ce.filter((function(e){return 2===e.whose})),n=e.some((function(e){return 11===e.type})),s=t.some((function(e){return 11===e.type}));ee([n,s])};Object(s.useEffect)((function(){if(k.defense===se){1===k.num&&(i(1===r?2:1),v(!b),N({num:0,piece:-1}));var e,t=1,n=1;if(k.offense<90&&(t=ce[k.offense].level,n=ce[k.defense].level),2===k.num&&(3===t?t===n?(ce.splice(k.defense,1,{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level,under:ce[k.defense].under}),ce.splice(k.offense,1,ce[k.offense].under)):t-n===1?(ce.splice(k.defense,1,{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level-1,under:ce[k.defense].under}),ce.splice(k.offense,1,ce[k.offense].under)):(ce.splice(k.defense,1,{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level-2}),ce.splice(k.offense,1,ce[k.offense].under)):2===t?t===n?(ce.splice(k.defense,1,{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level,under:ce[k.defense].under}),ce.splice(k.offense,1,ce[k.offense].under)):(ce.splice(k.defense,1,{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level-1}),ce.splice(k.offense,1,ce[k.offense].under)):(ce.splice(k.defense,1,{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level}),ce.splice(k.offense,1,{type:0,whose:0,level:0})),pe(ce),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type])),v(!b),be()),3===k.num)k.offense>=90?(e={type:k.type,whose:ue,level:ce[k.defense].level+1,under:ce[k.defense]},ce.splice(k.defense,1,e)):(3===t&&(e=t-n===1?{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level,under:ce[k.defense]}:{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level-1,under:ce[k.defense]}),2===t&&(e=t-n===1?{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level,under:ce[k.defense]}:{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level+1,under:ce[k.defense]}),1===t&&(e={type:ce[k.offense].type,whose:ue,level:ce[k.offense].level+1,under:ce[k.defense]}),ce.splice(k.defense,1,e),t>=2?ce.splice(k.offense,1,ce[k.offense].under):ce.splice(k.offense,1,{type:-1,whose:0,level:0})),pe(ce),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type])),v(!b),be();o(ce),d({num:-1,type:-1,level:0})}}),[k]);var ve=1===oe.level?0:2===oe.level?1===oe.under.whose?1:2:3===oe.level?1===oe.under.whose?1===oe.under.under.whose?3:4:1===oe.under.under.whose?5:6:void 0,je="piece".concat(oe.type,"-").concat(oe.whose,"-").concat(ve),we=function(){if(3===T){if(H(ce[se]),!1===ae?oe.whose===r&&(v(!ae),d({num:se,type:ce[se].type,level:ce[se].level}),function(){var e=function(e,t){if(1===t){var n=e[0],s=e[1];if(he+n>=0&&he+n<=9&&fe+s>=0&&fe+s<=9)return 10*(fe+s)+he+n}else{var c=e[0],o=-e[1];if(he+c>=0&&he+c<=9&&fe+o>=0&&fe+o<=9)return 10*(fe+o)+he+c}},t=function(e){return e>=0&&e<=88&&0===ce[e].whose},n=[];switch(oe.type){case 0:1===oe.level&&(n=[e([0,-1],oe.whose),e([0,1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose),e([1,-1],oe.whose),e([-1,-1],oe.whose),e([1,1],oe.whose),e([-1,1],oe.whose)]);break;case 1:if(0!==oe.level){for(var s=1;s<=9;s++){var c=e([s,0],oe.whose);if(n.push(c),!t(c))break}for(var o=1;o<=9;o++){var a=e([-o,0],oe.whose);if(n.push(a),!t(a))break}for(var i=1;i<=9;i++){var l=e([0,i],oe.whose);if(n.push(l),!t(l))break}for(var u=1;u<=9;u++){var h=e([0,-u],oe.whose);if(n.push(h),!t(h))break}oe.level>=2&&(n.push(e([1,1],oe.whose)),n.push(e([1,-1],oe.whose)),n.push(e([-1,1],oe.whose)),n.push(e([-1,-1],oe.whose)))}break;case 2:if(0!==oe.level){for(var f=1;f<=9;f++){var d=e([f,f],oe.whose);if(n.push(d),!t(d))break}for(var p=1;p<=9;p++){var b=e([p,-p],oe.whose);if(n.push(b),!t(b))break}for(var v=1;v<=9;v++){var j=e([-v,v],oe.whose);if(n.push(j),!t(j))break}for(var w=1;w<=9;w++){var O=e([-w,-w],oe.whose);if(n.push(O),!t(O))break}oe.level>=2&&(n.push(e([0,1],oe.whose)),n.push(e([0,-1],oe.whose)),n.push(e([1,0],oe.whose)),n.push(e([-1,0],oe.whose)))}break;case 3:1===oe.level?n=[e([0,-1],oe.whose),e([0,1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose),e([1,-1],oe.whose),e([-1,-1],oe.whose)]:oe.level>=2&&(t((n=[e([1,0],oe.whose),e([0,1],oe.whose),e([0,-1],oe.whose),e([-1,0],oe.whose),e([1,-1],oe.whose),e([-1,-1],oe.whose)])[0])&&n.push(e([2,0],oe.whose)),t(n[2])&&n.push(e([0,-2],oe.whose)),t(n[3])&&n.push(e([-2,0],oe.whose)));break;case 4:1===oe.level?n=[e([0,-1],oe.whose),e([0,1],oe.whose)]:oe.level>=2&&(t((n=[e([0,-1],oe.whose),e([0,1],oe.whose)])[0])&&n.push(e([0,-2],oe.whose)),t(n[1])&&n.push(e([0,2],oe.whose)));break;case 5:1===oe.level?n=[e([1,1],oe.whose),e([1,-1],oe.whose),e([-1,1],oe.whose),e([-1,-1],oe.whose)]:oe.level>=2&&(t((n=[e([1,1],oe.whose),e([1,-1],oe.whose),e([-1,1],oe.whose),e([-1,-1],oe.whose)])[0])&&n.push(e([2,2],oe.whose)),t(n[1])&&n.push(e([2,-2],oe.whose)),t(n[2])&&n.push(e([-2,2],oe.whose)),t(n[3])&&n.push(e([-2,-2],oe.whose)));break;case 6:1===oe.level?n=[e([0,-1],oe.whose),e([0,1],oe.whose),e([1,-1],oe.whose),e([-1,-1],oe.whose)]:oe.level>=2&&(t((n=[e([0,-1],oe.whose),e([0,1],oe.whose),e([1,-1],oe.whose),e([-1,-1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose)])[0])&&n.push(e([0,-2],oe.whose)),t(n[2])&&n.push(e([2,-2],oe.whose)),t(n[3])&&n.push(e([-2,-2],oe.whose)));break;case 7:1===oe.level?n=[e([0,1],oe.whose),e([0,-1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose)]:oe.level>=2&&(t((n=[e([0,1],oe.whose),e([0,-1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose)])[0])&&n.push(e([0,2],oe.whose)),t(n[1])&&n.push(e([0,-2],oe.whose)),t(n[2])&&n.push(e([2,0],oe.whose)),t(n[3])&&n.push(e([-2,0],oe.whose)));break;case 8:1===oe.level?n=[e([1,2],oe.whose),e([1,-2],oe.whose),e([-1,2],oe.whose),e([-1,-2],oe.whose),e([2,1],oe.whose),e([2,-1],oe.whose),e([-2,1],oe.whose),e([-2,-1],oe.whose)]:oe.level>=2&&(n=[e([1,2],oe.whose),e([1,-2],oe.whose),e([-1,2],oe.whose),e([-1,-2],oe.whose),e([2,1],oe.whose),e([2,-1],oe.whose),e([-2,1],oe.whose),e([-2,-1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose),e([0,1],oe.whose),e([0,-1],oe.whose)]);break;case 9:(1===oe.level||oe.level>=2)&&(n=[e([0,-1],oe.whose),e([0,1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose),e([1,-1],oe.whose),e([-1,-1],oe.whose),e([1,1],oe.whose),e([-1,1],oe.whose)]);break;case 10:if(0!==oe.level){for(var y=1;y<=9;y++){var C=e([0,y],oe.whose);if(n.push(C),!t(C))break}for(var g=1;g<=9;g++){var k=e([0,-g],oe.whose);if(n.push(k),!t(k))break}}oe.level>=2&&(n.push(e([1,0],oe.whose)),n.push(e([-1,0],oe.whose)));break;case 11:1===oe.level&&(n=[e([0,-1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose)]);break;case 12:1===oe.level&&(n=[e([0,-1],oe.whose),e([1,1],oe.whose),e([-1,1],oe.whose),e([1,-2],oe.whose),e([-1,-2],oe.whose)]);break;case 13:1===oe.level&&(n=[e([0,1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose),e([1,-2],oe.whose),e([-1,-2],oe.whose)])}var N=function(e){var t=ce.reduce((function(t,n,s,c){for(var o=0;o<e.length;o++)e[o]===s&&t.push({type:n.type,whose:n.whose,index:s});return t}),[]).filter((function(e){return 0!==e.type||e.whose!==r||void 0})).map((function(e){return e.index}));return t}(n),A=function(e){var t=[];return t=[0,12,13].includes(oe.type)?ce.reduce((function(t,n,s,c){for(var o=0;o<e.length;o++)e[o]===s&&t.push({type:n.type,whose:n.whose,index:s});return t}),[]).filter((function(e){return e.whose!==r})).map((function(e){return e.index})):e,t}(N),S=function(e){var t=ce.reduce((function(t,n,s,c){for(var o=0;o<e.length;o++)e[o]===s&&t.push(Object(m.a)(Object(m.a)({},n),{},{index:s}));return t}),[]).filter((function(e){if(0===oe.type||12===oe.type||13===oe.type)return!0;if(9===oe.type){if(3===oe.level){if(oe.level!==e.level)return!0}else if(oe.level>=e.level)return!0}else if(oe.level>=e.level)return!0})).map((function(e){return e.index}));return t}(A);x(S)}()):w.includes(se)||(v(!b),d({num:-1,type:-1,level:0}),x([])),w.includes(se)){if(0===ce[se].whose){if(90===u.num){var e=Array.from(S),t=e.indexOf(u.type);e.splice(t,1),P(e),ce.splice(se,1,{type:u.type,whose:r,level:1}),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type],"-\u65b0"))}else if(91===u.num){var n=Array.from(B),s=n.indexOf(u.type);n.splice(s,1),F(n),ce.splice(se,1,{type:u.type,whose:r,level:1}),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type],"-\u65b0"))}else 1===ce[u.num].level?(ce.splice(se,1,{type:u.type,whose:r,level:u.level}),ce.splice(u.num,1,{type:-1,whose:0,level:0})):ce[u.num].level>=2&&(ce.splice(se,1,{type:u.type,whose:r,level:1}),ce.splice(u.num,1,ce[u.num].under)),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type]));v(!b),pe(ce),be()}else ce[se].whose===r&&(u.num>=90?N({num:3,offense:u.num,defense:se,type:u.type}):u.level>=ce[se].level&&(C(2),N({num:-1,offense:u.num,defense:se})));ce[se].whose===ue&&(0===ce[se].type?(3===u.level?(ce.splice(se,1,{type:u.type,whose:r,level:2,under:ce[se]}),ce.splice(u.num,1,ce[u.num].under)):2===u.level?(ce.splice(se,1,{type:u.type,whose:r,level:1}),ce.splice(u.num,1,ce[u.num].under)):(ce.splice(se,1,{type:u.type,whose:r,level:1}),ce.splice(u.num,1,{type:0,whose:0,level:0})),pe(ce),z(r),ne(I.length),q(4)):9===u.type?(C(2),N({num:-1,offense:u.num,defense:se})):0===u.type||9===u.type||u.type>10?(C(3),N({num:-1,offense:u.num,defense:se})):3!==u.level?u.level>=ce[se].level&&(C(1),N({num:-1,offense:u.num,defense:se})):3===ce[se].level?(C(3),N({num:-1,offense:u.num,defense:se})):(C(1),N({num:-1,offense:u.num,defense:se}))),o(ce),d({num:-1,type:-1,level:0}),x([]),i(ue)}}else if(1===T||2===T){if(w.includes(se))if(0===ce[se].whose){if(90===u.num){var c=Array.from(S),a=c.indexOf(u.type);c.splice(a,1),P(c),ce.splice(se,1,{type:u.type,whose:r,level:1});for(var l=[],h=0;h<3;h++)for(var f=0;f<9;f++)l.push(10*h+f);!1===R?(d({num:91,type:0,level:1}),x(l),U(!0)):(d({num:-1,type:-1,level:0}),x([])),v(!b),o(ce),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type],"-\u65b0")),pe(ce),1===T&&i(ue),11===u.type&&X(!0)}else if(91===u.num){var p=Array.from(B),j=p.indexOf(u.type);p.splice(j,1),F(p),ce.splice(se,1,{type:u.type,whose:r,level:1}),v(!b),o(ce),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type],"-\u65b0")),pe(ce),d({num:-1,type:-1,level:0}),x([]),1===T&&i(ue),11===u.type&&$(!0)}}else if(ce[se].whose===r){if(90===u.num){var O=Array.from(S),y=O.indexOf(u.type);O.splice(y,1),P(O);var g={};oe.level<3&&(g={type:u.type,whose:r,level:u.level+1,under:oe}),ce.splice(se,1,g)}else if(91===u.num){var k=Array.from(B),A=k.indexOf(u.type);k.splice(A,1),F(k);var M={};oe.level<3&&(M={type:u.type,whose:r,level:u.level+1,under:oe}),ce.splice(se,1,M)}v(!b),o(ce),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type],"-\u65b0")),pe(ce),d({num:-1,type:-1,level:0}),x([]),1===T&&i(ue)}console.log(R)}console.log(Object(m.a)(Object(m.a)({},ce[se]),{},{thisNum:se,params:je}))};return Object(f.jsx)("button",{className:ie,onClick:function(){we()},children:Object(f.jsx)("div",{className:le,style:{backgroundImage:"url(".concat("/gungi-app","/images/").concat(je,".png)")}})})},C=Object(i.a)((function(e){return{squareContainer:{padding:0,margin:"0 auto",width:93},squareContainerSub:{height:150,backgroundColor:"#F8BE75",border:"1px solid #333",display:"flex",flexWrap:"wrap",flexDirection:"column"}}})),g=function(e){var t=C(),n=Object(s.useContext)(M),c=n.whitePieces,o=(n.setWhitePieces,Object(s.useContext)(M)),a=o.blackPieces,r=(o.setBlackPieces,Array.from(c).filter((function(e,t,n){return n.indexOf(e)===t}))),i=Array.from(a).filter((function(e,t,n){return n.indexOf(e)===t}));return Object(f.jsx)("div",{className:t.squareContainer,children:e.isWhite?Object(f.jsx)("div",{className:t.squareContainerSub,children:r.map((function(t){return Object(f.jsx)(N,{isWhite:e.isWhite,index:t})}))}):Object(f.jsx)("div",{className:t.squareContainerSub,children:i.map((function(t){return Object(f.jsx)(N,{isWhite:e.isWhite,index:t})}))})})},k=Object(i.a)((function(e){return{container:{margin:0,width:"50px"},square:{width:30,height:30,borderWidth:0,backgroundColor:"#F8BE75"},piece:{backgroundSize:"contain",borderWidth:0,width:30,height:30},selected:{backgroundColor:"#D0D0D0"}}})),N=function(e){var t,n=k(),c=Object(s.useContext)(M),o=c.whitePieces,a=(c.setWhitePieces,Object(s.useContext)(M)),r=a.blackPieces,i=(a.setBlackPieces,Object(s.useContext)(M)),l=i.pieces,u=(i.setPieces,Object(s.useContext)(M)),h=u.turn,d=(u.setTurn,Object(s.useContext)(M)),p=d.select,b=d.setSelect,v=Object(s.useContext)(M),j=v.clickFlag,w=v.setClickFlag,x=Object(s.useContext)(M),O=(x.canMove,x.setCanMove),y=Object(s.useContext)(M),C=(y.modal,y.setModal,Object(s.useContext)(M)),g=(C.attack,C.setAttack,Object(s.useContext)(M)),N=g.phase,A=(g.setPhase,Object(s.useContext)(M)),S=(A.click,A.setlick,Object(s.useContext)(M)),P=S.bouCheck,W=(S.setBouCheck,e.index);t=e.isWhite?1:2;var B,F="".concat(n.piece);p.type===W&&p.num===89+t&&(F+=" ".concat(n.selected)),B=e.isWhite?Array.from(o):Array.from(r);for(var D,T=0,q=0;q<B.length;++q)B[q]==W&&T++;D=1===T?0:2===T?1===t?1:2:3===T?1===t?3:6:7;var K="piece".concat(e.index,"-").concat(t,"-").concat(D),z=Array.from(l),E=1===h?2:1,I=function(){var e=[];if(1===t)for(var n=6;n<9;n++)for(var s=0;s<9;s++)e.push(Object(m.a)(Object(m.a)({},z[10*n+s]),{},{index:10*n+s}));if(2===t)for(var c=0;c<3;c++)for(var o=0;o<9;o++)e.push(Object(m.a)(Object(m.a)({},z[10*c+o]),{},{index:10*c+o}));var a=e.filter((function(e){if(0!==e.type&&e.whose!==E&&3!==e.level)return!0})).map((function(e){return e.index}));O(a)};P[h-1];return Object(f.jsx)("button",{className:n.square,onClick:function(){(1===N||2===N||3===N&&!0===P[h-1])&&(!1===j?t===h&&(w(!j),b({num:t+89,type:W,level:1}),I()):p.num===t+89&&(w(!j),b({num:-1,type:-1,level:0}),O([])))},children:Object(f.jsx)("div",{className:F,style:{backgroundImage:"url(".concat("/gungi-app","/images/").concat(K,".png)")}})})},A=Object(i.a)((function(e){return{paramsContainer:{display:"flex",alignItems:"center",flexDirection:"column",width:160},button1:{marginBottom:10,width:160},button1M:{margin:"0 10px 10px 10px",padding:"6px 10px",width:140},bunttonContainer:{},button2:{marginBottom:10},button2M:{marginBottom:10}}})),S=function(e){var t=A(),n=Object(s.useContext)(M),c=n.phase,o=n.setPhase,a=Object(s.useContext)(M),r=(a.select,a.setSelect),i=Object(s.useContext)(M),u=(i.canMove,i.setCanMove),d=Object(s.useContext)(M),p=(d.whitePieces,d.setWhitePieces),b=Object(s.useContext)(M),v=(b.blackPieces,b.setBlackPieces),j=Object(s.useContext)(M),w=(j.clickFlag,j.setClickFlag),m=Object(s.useContext)(M),x=m.turn,O=m.setTurn,y=Object(s.useContext)(M),C=y.pieces,g=y.setPieces,k=Object(s.useContext)(M),N=k.winner,S=(k.setWinner,Object(s.useContext)(M)),P=S.kifu,W=S.setKifu,B=Object(s.useContext)(M),F=B.yomifu,D=B.setYomifu,T=Object(s.useContext)(M),q=T.click,K=(T.setClick,Object(s.useContext)(M)),z=K.bouFlagW,E=(K.setBouFlagW,Object(s.useContext)(M)),I=E.bouFlagB,L=(E.setBouFlagB,Object(s.useContext)(M)),Y=(L.bouCheck,L.setBouCheck),J=Object(s.useContext)(M),G=J.curKifu,H=J.setCurKifu,Q=h()({minWidth:"769px"}),R="";R="".concat(Q?t.button1:t.button1M);var U="";U="".concat(Q?t.button2:t.button2M);var V=["\u5e2b","\u5927","\u4e2d","\u5c0f","\u5175","\u4f8d","\u5fcd","\u99ac","\u5f13","\u7826","\u69cd","\u8b00","\u7832","\u7b52"],X="",Z="",$="";1===q.level&&(X="".concat(V[q.type])),2===q.level&&(X="\u4e0a\u6bb5\uff1a".concat(V[q.type]),Z="\u4e0b\u6bb5\uff1a".concat(V[q.under.type])),3===q.level&&(X="\u4e0a\u6bb5\uff1a".concat(V[q.type]),Z="\u4e2d\u6bb5\uff1a".concat(V[q.under.type]),$="\u4e0b\u6bb5\uff1a".concat(V[q.under.under.type]));var _=function(){var e=new Array(89).fill({type:-1,whose:0,level:0}),t=function(t,n,s,c,o){var a=8-t%10,r=10*(8-(t-(8-a))/10)+a;1===s&&(e.splice(t,1,{type:n,whose:1,level:1}),e.splice(r,1,{type:n,whose:2,level:1})),2===s&&(e.splice(t,1,{type:n,whose:1,level:2,under:{type:c,whose:1,level:1}}),e.splice(r,1,{type:n,whose:2,level:2,under:{type:c,whose:2,level:1}})),3===s&&(e.splice(t,1,{type:n,whose:1,level:3,under:{type:c,whose:1,level:2,under:{type:o,whose:1,level:1}}}),e.splice(r,1,{type:n,whose:2,level:3,under:{type:c,whose:2,level:2,under:{type:o,whose:2,level:1}}}))};return t(84,0,1),t(74,12,1),t(64,6,1),t(63,4,1),t(65,4,1),t(62,7,1),t(66,7,1),t(73,1,2,6),t(75,2,2,13),t(70,5,2,10),t(78,5,2,10),t(61,3,2,4),t(67,3,2,4),t(82,8,3,9,10),t(86,8,3,9,11),e},ee=function(){for(var e=new Array(89).fill({type:-1,whose:0,level:0}),t=new Array(22),n=0;n<14;n++)t[n]=n;for(var s=3;s<11;s++)t[s+14-3]=s;t.push(4),t.push(4),t.push(10),t.sort((function(e,t){return e-t}));for(var c=new Array(22),a=0;a<14;a++)c[a]=a;for(var i=3;i<11;i++)c[i+14-3]=i;c.push(4),c.push(4),c.push(10),c.sort((function(e,t){return t-e})),o(1),r({num:90,type:0,level:1});for(var l=[],h=6;h<9;h++)for(var f=0;f<9;f++)l.push(10*h+f);g(e),D([]),w(!1),u(l),p(t),v(c),O(1),W([e])},te=function(e){return 1===e?2:1}(x),ne=function(){var e=c;2===c&&O(te),o(e+1),function(){var e=C.filter((function(e){return 1===e.whose})),t=C.filter((function(e){return 2===e.whose})),n=e.some((function(e){return 11===e.type})),s=t.some((function(e){return 11===e.type}));Y([n,s])}()},se=function(){o(3),D([]),g(_()),p([]),v([]),w(!1),O(1),W([_()])},ce=function(e){if(!0===e){var t=G;H(t-1),g(P[t-1])}if(!1===e){var n=G;H(n+1),g(P[n+1])}};if(0===c)return Object(f.jsxs)("div",{className:t.paramsContainer,children:[Object(f.jsx)(l.a,{variant:"contained",color:"primary",className:R,onClick:function(){return ee()},children:"\u59cb\u3081\u308b"}),Object(f.jsx)(l.a,{variant:"contained",color:"primary",className:R,onClick:function(){return se()},children:"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8"})]});if(1===c||2===c){var oe,ae="".concat(P.length);return oe=1===c?2===x?!1===z?Object(f.jsx)(l.a,{variant:"contained",className:R,children:"\u6e08\u307f"}):Object(f.jsx)(l.a,{variant:"contained",color:"primary",className:R,onClick:function(){return ne()},children:"\u6e08\u307f"}):!1===I?Object(f.jsx)(l.a,{variant:"contained",className:R,children:"\u6e08\u307f"}):Object(f.jsx)(l.a,{variant:"contained",color:"primary",className:R,onClick:function(){return ne()},children:"\u6e08\u307f"}):1===x?!1===z?Object(f.jsx)(l.a,{variant:"contained",className:R,children:"\u6e08\u307f"}):Object(f.jsx)(l.a,{variant:"contained",color:"primary",className:R,onClick:function(){return ne()},children:"\u6e08\u307f"}):!1===I?Object(f.jsx)(l.a,{variant:"contained",className:R,children:"\u6e08\u307f"}):Object(f.jsx)(l.a,{variant:"contained",color:"primary",className:R,onClick:function(){return ne()},children:"\u6e08\u307f"}),Object(f.jsxs)("div",{className:t.paramsContainer,children:[oe,Object(f.jsxs)("div",{children:[ae,"\u624b\u76ee"]}),Object(f.jsx)("div",{children:F})]})}if(3===c){var re="".concat(P.length),ie="";return ie+=1===x?"\u767d":"\u9ed2",Object(f.jsxs)("div",{className:t.paramsContainer,children:[Object(f.jsxs)("div",{children:[ie,"\u756a"]}),Object(f.jsxs)("div",{children:[re,"\u624b\u76ee"]}),Object(f.jsx)("div",{children:F}),Object(f.jsx)("div",{children:X}),Object(f.jsx)("div",{children:Z}),Object(f.jsx)("div",{children:$})]})}if(4===c){var le="".concat(G),ue="";ue=1===N?"\u767d":"\u9ed2";var he="";he=G>0?Object(f.jsx)(l.a,{variant:"contained",className:U,color:"primary",onClick:function(){return ce(!0)},children:"\u2190"}):Object(f.jsx)(l.a,{variant:"contained",className:U,children:"\u2190"});var fe="";return fe=G<P.length-1?Object(f.jsx)(l.a,{variant:"contained",className:U,color:"primary",onClick:function(){return ce(!1)},children:"\u2192"}):Object(f.jsx)(l.a,{variant:"contained",className:U,children:"\u2192"}),Object(f.jsxs)("div",{className:t.paramsContainer,children:[Object(f.jsxs)("div",{children:[le,"\u624b\u76ee"]}),Object(f.jsxs)("div",{children:["\u52dd\u8005 :\u3000",ue]}),Object(f.jsxs)("div",{className:t.bunttonContainer,children:[he,fe]}),Object(f.jsx)(l.a,{variant:"contained",color:"primary",className:R,onClick:function(){return ee()},children:"\u518d\u6226"}),Object(f.jsx)(l.a,{variant:"contained",color:"primary",className:R,onClick:function(){return se()},children:"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8"})]})}return null},M=Object(s.createContext)(),P=new Array(89).fill({type:-1,whose:0,level:0}),W=new Array(22),B=0;B<14;B++)W[B]=B;for(var F=3;F<11;F++)W[F+14-3]=F;W.push(4),W.push(4),W.push(10),W.sort((function(e,t){return e-t}));for(var D=new Array(22),T=0;T<14;T++)D[T]=T;for(var q=3;q<11;q++)D[q+14-3]=q;D.push(4),D.push(4),D.push(10),D.sort((function(e,t){return t-e}));var K=function(){var e=Object(s.useState)(P),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(s.useState)(1),a=Object(r.a)(o,2),i=a[0],l=a[1],u=Object(s.useState)({num:-1,type:-1,level:0}),h=Object(r.a)(u,2),d=h[0],p=h[1],b=Object(s.useState)(!1),j=Object(r.a)(b,2),w=j[0],m=j[1],x=Object(s.useState)([]),O=Object(r.a)(x,2),y=O[0],C=O[1],g=Object(s.useState)(0),k=Object(r.a)(g,2),N=k[0],A=k[1],S=Object(s.useState)({num:0,offense:-1,defense:-1}),B=Object(r.a)(S,2),F=B[0],T=B[1],q=Object(s.useState)(W),K=Object(r.a)(q,2),z=K[0],E=K[1],I=Object(s.useState)(D),L=Object(r.a)(I,2),Y=L[0],J=L[1],G=Object(s.useState)(0),H=Object(r.a)(G,2),Q=H[0],R=H[1],U=Object(s.useState)(0),V=Object(r.a)(U,2),X=V[0],Z=V[1],$=Object(s.useState)([]),_=Object(r.a)($,2),ee=_[0],te=_[1],ne=Object(s.useState)(""),se=Object(r.a)(ne,2),ce=se[0],oe=se[1],ae=Object(s.useState)([{num:-1,type:-1,level:0}]),re=Object(r.a)(ae,2),ie=re[0],le=re[1],ue=Object(s.useState)(!1),he=Object(r.a)(ue,2),fe=he[0],de=he[1],pe=Object(s.useState)(!1),be=Object(r.a)(pe,2),ve=be[0],je=be[1],we=Object(s.useState)(!1),me=Object(r.a)(we,2),xe=me[0],Oe=me[1],ye=Object(s.useState)([!1,!1]),Ce=Object(r.a)(ye,2),ge=Ce[0],ke=Ce[1],Ne=Object(s.useState)(-1),Ae=Object(r.a)(Ne,2),Se=Ae[0],Me=Ae[1];return Object(s.useEffect)((function(){}),[y]),Object(f.jsx)("div",{children:Object(f.jsx)(M.Provider,{value:{pieces:n,setPieces:c,turn:i,setTurn:l,select:d,setSelect:p,clickFlag:w,setClickFlag:m,canMove:y,setCanMove:C,modal:N,setModal:A,attack:F,setAttack:T,whitePieces:z,setWhitePieces:E,blackPieces:Y,setBlackPieces:J,phase:Q,setPhase:R,winner:X,setWinner:Z,kifu:ee,setKifu:te,yomifu:ce,setYomifu:oe,click:ie,setClick:le,firstArata:fe,setFirstArata:de,bouFlagW:ve,setBouFlagW:je,bouFlagB:xe,setBouFlagB:Oe,bouCheck:ge,setBouCheck:ke,curKifu:Se,setCurKifu:Me},children:Object(f.jsx)(v,{})})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),o(e),a(e)}))};a.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(K,{})}),document.getElementById("root")),z()}},[[42,1,2]]]);
//# sourceMappingURL=main.bf8b4fa9.chunk.js.map