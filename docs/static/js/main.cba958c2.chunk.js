(this["webpackJsonpgungi-app"]=this["webpackJsonpgungi-app"]||[]).push([[0],{22:function(e,t,n){},32:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);for(var s=n(0),c=n.n(s),o=n(10),r=n.n(o),a=(n(32),n(4)),i=(n(22),n(58)),l=n(60),u=n(1),h=Object(i.a)((function(e){return{paper:{position:"absolute",width:120,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),marginTop:250},content:{display:"flex",justifyContent:"center",flexDirection:"column",width:120},button1:{margin:5}}})),f=function(){var e=h(),t=Object(s.useContext)(P),n=t.modal,c=t.setModal,o=Object(s.useContext)(P),r=(o.turn,o.setTurn,Object(s.useContext)(P)),a=r.attack,i=r.setAttack,f=function(e){c(0);var t={num:e,offense:a.offense,defense:a.defense};i(t)};return 1===n?Object(u.jsx)("div",{id:"modal",className:e.paper,children:Object(u.jsxs)("div",{id:"content",className:e.content,children:[Object(u.jsx)(l.a,{variant:"contained",color:"secondary",className:e.button1,onClick:function(){return f(2)},children:"\u53d6\u308b"}),Object(u.jsx)(l.a,{variant:"contained",color:"primary",className:e.button1,onClick:function(){return f(3)},children:"\u30c4\u30b1\u308b"}),Object(u.jsx)(l.a,{variant:"contained",className:e.button1,onClick:function(){return f(1)},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})}):2===n?Object(u.jsx)("div",{id:"modal",className:e.paper,children:Object(u.jsxs)("div",{id:"content",className:e.content,children:[Object(u.jsx)(l.a,{variant:"contained",color:"primary",className:e.button1,onClick:function(){return f(3)},children:"\u30c4\u30b1\u308b"}),Object(u.jsx)(l.a,{variant:"contained",className:e.button1,onClick:function(){return f(1)},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})}):3===n?Object(u.jsx)("div",{id:"modal",className:e.paper,children:Object(u.jsxs)("div",{id:"content",className:e.content,children:[Object(u.jsx)(l.a,{variant:"contained",color:"secondary",className:e.button1,onClick:function(){return f(2)},children:"\u53d6\u308b"}),Object(u.jsx)(l.a,{variant:"contained",className:e.button1,onClick:function(){return f(1)},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})}):null},d=n(12),p=n.n(d),b=Object(i.a)((function(e){return{container:{display:"flex",margin:"0 auto",width:900},gameArea:{display:"flex",margin:"0 auto",paddingTop:"50px"},leftParamsArea:{display:"flex",justifyContent:"center",width:170},rightParamsArea:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"column",width:170},paramsArea:{height:200,width:200},board:{marginTop:1},containerM:{display:"flex",margin:"50px auto",flexDirection:"column",justifyContent:"center",alignItems:"center"},gameAreaM:{},ownPieceArea:{display:"flex",justifyContent:"center",alignItems:"center",margin:20},paramsAreaM:{display:"flex",justifyContent:"center"},boardM:{marginTop:1}}})),v=function(){var e=b();return p()({minWidth:"769px"})?Object(u.jsx)("div",{className:e.container,children:Object(u.jsxs)("div",{className:e.gameArea,children:[Object(u.jsxs)("div",{className:e.leftParamsArea,children:[Object(u.jsx)(g,{isWhite:!1}),Object(u.jsx)(f,{})]}),Object(u.jsx)("div",{className:e.board,children:Object(u.jsx)(w,{})}),Object(u.jsxs)("div",{className:e.rightParamsArea,children:[Object(u.jsx)("div",{className:e.paramsArea,children:Object(u.jsx)(S,{})}),Object(u.jsx)(g,{isWhite:!0})]})]})}):Object(u.jsx)("div",{className:e.containerM,children:Object(u.jsxs)("div",{className:e.gameAreaM,children:[Object(u.jsx)("div",{className:e.boardM,children:Object(u.jsx)(w,{})}),Object(u.jsxs)("div",{className:e.ownPieceArea,children:[Object(u.jsx)(g,{isWhite:!0}),Object(u.jsx)(g,{isWhite:!1})]}),Object(u.jsxs)("div",{className:e.paramsAreaM,children:[Object(u.jsx)(f,{}),Object(u.jsx)(S,{})]})]})})},j=Object(i.a)((function(e){return{container:{display:"flex",margin:0,width:"459px"},columnContainer:{flexDirection:"column",display:"flex"},rowContainer:{marginTop:-1,marginBottom:2,height:50},containerM:{display:"flex",margin:0,width:"369px"},columnContainerM:{flexDirection:"column",display:"flex"},rowContainerM:{marginTop:-1,marginBottom:2,height:40}}})),w=function(){var e=j(),t=function(e,t){return Object(u.jsx)(y,{column:e,row:t})},n=[1,2,3,4,5,6,7,8,9];return p()({minWidth:"769px"})?Object(u.jsx)("div",{className:e.container,children:Object(u.jsx)("div",{className:e.columnContainer,children:n.map((function(s){return Object(u.jsx)("div",{className:e.rowContainer,children:n.map((function(e){return t(s,e)}))})}))})}):Object(u.jsx)("div",{className:e.containerM,children:Object(u.jsx)("div",{className:e.columnContainerM,children:n.map((function(s){return Object(u.jsx)("div",{className:e.rowContainerM,children:n.map((function(e){return t(s,e)}))})}))})})},m=n(7),O=n(17),x=Object(i.a)((function(e){return{square:Object(O.a)({width:52,height:52,borderWidth:1,borderColor:"black",boxSizing:"border-box",marginLeft:-1,backgroundColor:"#F8BE75",borderSpacing:0,borderCollapse:"collapse"},"boxSizing","border-box"),squareM:Object(O.a)({width:42,height:42,borderWidth:1,borderColor:"black",boxSizing:"border-box",marginLeft:-1,backgroundColor:"#F8BE75",borderSpacing:0,borderCollapse:"collapse"},"boxSizing","border-box"),text:{fontSize:24},piece:{backgroundSize:"contain",margin:0,borderColor:"black",borderWidth:1,width:50,height:50},pieceM:{backgroundSize:"contain",margin:0,borderColor:"black",borderWidth:1,width:40,height:40},selected:{backgroundColor:"#D0D0D0"},canMove:{backgroundColor:"#f5a38e"},image:{}}})),y=function(e){var t=x(),n=Object(s.useContext)(P),c=n.pieces,o=n.setPieces,r=Object(s.useContext)(P),a=r.turn,i=r.setTurn,l=Object(s.useContext)(P),h=l.select,f=l.setSelect,d=Object(s.useContext)(P),b=d.clickFlag,v=d.setClickFlag,j=Object(s.useContext)(P),w=j.canMove,O=j.setCanMove,y=Object(s.useContext)(P),C=(y.modal,y.setModal),g=Object(s.useContext)(P),k=g.attack,N=g.setAttack,A=Object(s.useContext)(P),S=A.whitePieces,W=A.setWhitePieces,M=Object(s.useContext)(P),B=M.blackPieces,F=M.setBlackPieces,D=Object(s.useContext)(P),T=D.phase,q=D.setPhase,K=Object(s.useContext)(P),z=(K.winner,K.setWinner),I=Object(s.useContext)(P),E=I.kifu,L=I.setKifu,Y=Object(s.useContext)(P),J=(Y.yomifu,Y.setYomifu),G=Object(s.useContext)(P),H=(G.click,G.setClick),Q=Object(s.useContext)(P),R=Q.firstArata,U=Q.setFirstArata,V=Object(s.useContext)(P),X=(V.bouFlagW,V.setBouFlagW),Z=Object(s.useContext)(P),$=(Z.bouFlagB,Z.setBouFlagB),_=Object(s.useContext)(P),ee=(_.bouCheck,_.setBouCheck),te=Object(s.useContext)(P),ne=(te.curKifu,te.setCurKifu),se=10*(e.column-1)+9-e.row,ce=Array.from(c),oe=ce[se],re=b,ae=p()({minWidth:"769px"}),ie="";ie="".concat(ae?t.square:t.squareM);var le="";le="".concat(ae?t.piece:t.pieceM),h.num===se&&(le+=" ".concat(t.selected)),w.includes(se)&&(le+=" ".concat(t.canMove));var ue=1===a?2:1,he=se%10,fe=(se-he)/10,de=["\u5e2b","\u5927","\u4e2d","\u5c0f","\u5175","\u4f8d","\u5fcd","\u99ac","\u5f13","\u7826","\u69cd","\u8b00","\u7832","\u7b52"],pe=function(e){var t=Array.from(E);t.push(e),L(t)},be=function(){var e=ce.filter((function(e){return 1===e.whose})),t=ce.filter((function(e){return 2===e.whose})),n=e.some((function(e){return 11===e.type})),s=t.some((function(e){return 11===e.type}));ee([n,s])};Object(s.useEffect)((function(){if(k.defense===se){1===k.num&&(i(1===a?2:1),v(!b),N({num:0,piece:-1}));var e,t=1,n=1;if(k.offense<90&&(t=ce[k.offense].level,n=ce[k.defense].level),2===k.num&&(3===t?t===n?(ce.splice(k.defense,1,{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level,under:ce[k.defense].under}),ce.splice(k.offense,1,ce[k.offense].under)):t-n===1?(ce.splice(k.defense,1,{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level-1,under:ce[k.defense].under}),ce.splice(k.offense,1,ce[k.offense].under)):(ce.splice(k.defense,1,{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level-2}),ce.splice(k.offense,1,ce[k.offense].under)):2===t?t===n?(ce.splice(k.defense,1,{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level,under:ce[k.defense].under}),ce.splice(k.offense,1,ce[k.offense].under)):(ce.splice(k.defense,1,{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level-1}),ce.splice(k.offense,1,ce[k.offense].under)):(ce.splice(k.defense,1,{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level}),ce.splice(k.offense,1,{type:0,whose:0,level:0})),pe(ce),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type])),v(!b),be()),3===k.num)k.offense>=90?(e={type:k.type,whose:ue,level:ce[k.defense].level+1,under:ce[k.defense]},ce.splice(k.defense,1,e)):(3===t&&(e=t-n===1?{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level,under:ce[k.defense]}:{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level-1,under:ce[k.defense]}),2===t&&(e=t-n===1?{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level,under:ce[k.defense]}:{type:ce[k.offense].type,whose:ue,level:ce[k.offense].level+1,under:ce[k.defense]}),1===t&&(e={type:ce[k.offense].type,whose:ue,level:ce[k.offense].level+1,under:ce[k.defense]}),ce.splice(k.defense,1,e),t>=2?ce.splice(k.offense,1,ce[k.offense].under):ce.splice(k.offense,1,{type:-1,whose:0,level:0})),pe(ce),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type])),v(!b),be();o(ce),f({num:-1,type:-1,level:0})}}),[k]);var ve=1===oe.level?0:2===oe.level?1===oe.under.whose?1:2:3===oe.level?1===oe.under.whose?1===oe.under.under.whose?3:4:1===oe.under.under.whose?5:6:void 0,je="piece".concat(oe.type,"-").concat(oe.whose,"-").concat(ve),we=function(){if(3===T){if(H(ce[se]),!1===re?oe.whose===a&&(v(!re),f({num:se,type:ce[se].type,level:ce[se].level}),function(){var e=function(e,t){if(1===t){var n=e[0],s=e[1];if(he+n>=0&&he+n<=9&&fe+s>=0&&fe+s<=9)return 10*(fe+s)+he+n}else{var c=e[0],o=-e[1];if(he+c>=0&&he+c<=9&&fe+o>=0&&fe+o<=9)return 10*(fe+o)+he+c}},t=function(e){return e>=0&&e<=88&&0===ce[e].whose},n=[];switch(oe.type){case 0:1===oe.level&&(n=[e([0,-1],oe.whose),e([0,1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose),e([1,-1],oe.whose),e([-1,-1],oe.whose),e([1,1],oe.whose),e([-1,1],oe.whose)]);break;case 1:if(0!==oe.level){for(var s=1;s<=9;s++){var c=e([s,0],oe.whose);if(n.push(c),!t(c))break}for(var o=1;o<=9;o++){var r=e([-o,0],oe.whose);if(n.push(r),!t(r))break}for(var i=1;i<=9;i++){var l=e([0,i],oe.whose);if(n.push(l),!t(l))break}for(var u=1;u<=9;u++){var h=e([0,-u],oe.whose);if(n.push(h),!t(h))break}oe.level>=2&&(n.push(e([1,1],oe.whose)),n.push(e([1,-1],oe.whose)),n.push(e([-1,1],oe.whose)),n.push(e([-1,-1],oe.whose)))}break;case 2:if(0!==oe.level){for(var f=1;f<=9;f++){var d=e([f,f],oe.whose);if(n.push(d),!t(d))break}for(var p=1;p<=9;p++){var b=e([p,-p],oe.whose);if(n.push(b),!t(b))break}for(var v=1;v<=9;v++){var j=e([-v,v],oe.whose);if(n.push(j),!t(j))break}for(var w=1;w<=9;w++){var x=e([-w,-w],oe.whose);if(n.push(x),!t(x))break}oe.level>=2&&(n.push(e([0,1],oe.whose)),n.push(e([0,-1],oe.whose)),n.push(e([1,0],oe.whose)),n.push(e([-1,0],oe.whose)))}break;case 3:1===oe.level?n=[e([0,-1],oe.whose),e([0,1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose),e([1,-1],oe.whose),e([-1,-1],oe.whose)]:oe.level>=2&&(t((n=[e([1,0],oe.whose),e([0,1],oe.whose),e([0,-1],oe.whose),e([-1,0],oe.whose),e([1,-1],oe.whose),e([-1,-1],oe.whose)])[0])&&n.push(e([2,0],oe.whose)),t(n[2])&&n.push(e([0,-2],oe.whose)),t(n[3])&&n.push(e([-2,0],oe.whose)));break;case 4:1===oe.level?n=[e([0,-1],oe.whose),e([0,1],oe.whose)]:oe.level>=2&&(t((n=[e([0,-1],oe.whose),e([0,1],oe.whose)])[0])&&n.push(e([0,-2],oe.whose)),t(n[1])&&n.push(e([0,2],oe.whose)));break;case 5:1===oe.level?n=[e([1,1],oe.whose),e([1,-1],oe.whose),e([-1,1],oe.whose),e([-1,-1],oe.whose)]:oe.level>=2&&(t((n=[e([1,1],oe.whose),e([1,-1],oe.whose),e([-1,1],oe.whose),e([-1,-1],oe.whose)])[0])&&n.push(e([2,2],oe.whose)),t(n[1])&&n.push(e([2,-2],oe.whose)),t(n[2])&&n.push(e([-2,2],oe.whose)),t(n[3])&&n.push(e([-2,-2],oe.whose)));break;case 6:1===oe.level?n=[e([0,-1],oe.whose),e([0,1],oe.whose),e([1,-1],oe.whose),e([-1,-1],oe.whose)]:oe.level>=2&&(t((n=[e([0,-1],oe.whose),e([0,1],oe.whose),e([1,-1],oe.whose),e([-1,-1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose)])[0])&&n.push(e([0,-2],oe.whose)),t(n[2])&&n.push(e([2,-2],oe.whose)),t(n[3])&&n.push(e([-2,-2],oe.whose)));break;case 7:1===oe.level?n=[e([0,1],oe.whose),e([0,-1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose)]:oe.level>=2&&(t((n=[e([0,1],oe.whose),e([0,-1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose)])[0])&&n.push(e([0,2],oe.whose)),t(n[1])&&n.push(e([0,-2],oe.whose)),t(n[2])&&n.push(e([2,0],oe.whose)),t(n[3])&&n.push(e([-2,0],oe.whose)));break;case 8:1===oe.level?n=[e([1,2],oe.whose),e([1,-2],oe.whose),e([-1,2],oe.whose),e([-1,-2],oe.whose),e([2,1],oe.whose),e([2,-1],oe.whose),e([-2,1],oe.whose),e([-2,-1],oe.whose)]:oe.level>=2&&(n=[e([1,2],oe.whose),e([1,-2],oe.whose),e([-1,2],oe.whose),e([-1,-2],oe.whose),e([2,1],oe.whose),e([2,-1],oe.whose),e([-2,1],oe.whose),e([-2,-1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose),e([0,1],oe.whose),e([0,-1],oe.whose)]);break;case 9:(1===oe.level||oe.level>=2)&&(n=[e([0,-1],oe.whose),e([0,1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose),e([1,-1],oe.whose),e([-1,-1],oe.whose),e([1,1],oe.whose),e([-1,1],oe.whose)]);break;case 10:if(0!==oe.level){for(var y=1;y<=9;y++){var C=e([0,y],oe.whose);if(n.push(C),!t(C))break}for(var g=1;g<=9;g++){var k=e([0,-g],oe.whose);if(n.push(k),!t(k))break}}oe.level>=2&&(n.push(e([1,0],oe.whose)),n.push(e([-1,0],oe.whose)));break;case 11:1===oe.level&&(n=[e([0,-1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose)]);break;case 12:1===oe.level&&(n=[e([0,-1],oe.whose),e([1,1],oe.whose),e([-1,1],oe.whose),e([1,-2],oe.whose),e([-1,-2],oe.whose)]);break;case 13:1===oe.level&&(n=[e([0,1],oe.whose),e([1,0],oe.whose),e([-1,0],oe.whose),e([1,-2],oe.whose),e([-1,-2],oe.whose)])}var N=function(e){var t=ce.reduce((function(t,n,s,c){for(var o=0;o<e.length;o++)e[o]===s&&t.push({type:n.type,whose:n.whose,index:s});return t}),[]).filter((function(e){return 0!==e.type||e.whose!==a||void 0})).map((function(e){return e.index}));return t}(n),A=function(e){var t=[];return t=[0,12,13].includes(oe.type)?ce.reduce((function(t,n,s,c){for(var o=0;o<e.length;o++)e[o]===s&&t.push({type:n.type,whose:n.whose,index:s});return t}),[]).filter((function(e){return e.whose!==a})).map((function(e){return e.index})):e,t}(N),S=function(e){var t=ce.reduce((function(t,n,s,c){for(var o=0;o<e.length;o++)e[o]===s&&t.push(Object(m.a)(Object(m.a)({},n),{},{index:s}));return t}),[]).filter((function(e){if(0===oe.type||12===oe.type||13===oe.type)return!0;if(9===oe.type){if(3===oe.level){if(oe.level!==e.level)return!0}else if(oe.level>=e.level)return!0}else if(oe.level>=e.level)return!0})).map((function(e){return e.index}));return t}(A);O(S)}()):w.includes(se)||(v(!b),f({num:-1,type:-1,level:0}),O([])),w.includes(se)){if(0===ce[se].whose){if(90===h.num){var e=Array.from(S),t=e.indexOf(h.type);e.splice(t,1),W(e),ce.splice(se,1,{type:h.type,whose:a,level:1}),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type],"-\u65b0"))}else if(91===h.num){var n=Array.from(B),s=n.indexOf(h.type);n.splice(s,1),F(n),ce.splice(se,1,{type:h.type,whose:a,level:1}),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type],"-\u65b0"))}else 1===ce[h.num].level?(ce.splice(se,1,{type:h.type,whose:a,level:h.level}),ce.splice(h.num,1,{type:-1,whose:0,level:0})):ce[h.num].level>=2&&(ce.splice(se,1,{type:h.type,whose:a,level:1}),ce.splice(h.num,1,ce[h.num].under)),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type]));v(!b),pe(ce),be()}else ce[se].whose===a&&(h.num>=90?N({num:3,offense:h.num,defense:se,type:h.type}):h.level>=ce[se].level&&(C(2),N({num:-1,offense:h.num,defense:se})));ce[se].whose===ue&&(0===ce[se].type?(3===h.level?(ce.splice(se,1,{type:h.type,whose:a,level:2,under:ce[se]}),ce.splice(h.num,1,ce[h.num].under)):2===h.level?(ce.splice(se,1,{type:h.type,whose:a,level:1}),ce.splice(h.num,1,ce[h.num].under)):(ce.splice(se,1,{type:h.type,whose:a,level:1}),ce.splice(h.num,1,{type:0,whose:0,level:0})),pe(ce),z(a),ne(E.length),q(4)):9===h.type?(C(2),N({num:-1,offense:h.num,defense:se})):0===h.type||9===h.type||h.type>10?(C(3),N({num:-1,offense:h.num,defense:se})):3!==h.level?h.level>=ce[se].level&&(C(1),N({num:-1,offense:h.num,defense:se})):3===ce[se].level?(C(3),N({num:-1,offense:h.num,defense:se})):(C(1),N({num:-1,offense:h.num,defense:se}))),o(ce),f({num:-1,type:-1,level:0}),O([]),i(ue)}}else if(1===T||2===T){if(w.includes(se))if(0===ce[se].whose){if(90===h.num){var c=Array.from(S),r=c.indexOf(h.type);c.splice(r,1),W(c),ce.splice(se,1,{type:h.type,whose:a,level:1});for(var l=[],u=0;u<3;u++)for(var d=0;d<9;d++)l.push(10*u+d);!1===R?(f({num:91,type:0,level:1}),O(l),U(!0)):(f({num:-1,type:-1,level:0}),O([])),v(!b),o(ce),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type],"-\u65b0")),pe(ce),1===T&&i(ue),11===h.type&&X(!0)}else if(91===h.num){var p=Array.from(B),j=p.indexOf(h.type);p.splice(j,1),F(p),ce.splice(se,1,{type:h.type,whose:a,level:1}),v(!b),o(ce),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type],"-\u65b0")),pe(ce),f({num:-1,type:-1,level:0}),O([]),1===T&&i(ue),11===h.type&&$(!0)}}else if(ce[se].whose===a){if(90===h.num){var x=Array.from(S),y=x.indexOf(h.type);x.splice(y,1),W(x);var g={};oe.level<3&&(g={type:h.type,whose:a,level:h.level+1,under:oe}),ce.splice(se,1,g)}else if(91===h.num){var k=Array.from(B),A=k.indexOf(h.type);k.splice(A,1),F(k);var P={};oe.level<3&&(P={type:h.type,whose:a,level:h.level+1,under:oe}),ce.splice(se,1,P)}v(!b),o(ce),J("".concat(he+1,"-").concat(fe+1,"-").concat(ce[se].level,"-").concat(de[ce[se].type],"-\u65b0")),pe(ce),f({num:-1,type:-1,level:0}),O([]),1===T&&i(ue)}console.log(R)}console.log(Object(m.a)(Object(m.a)({},ce[se]),{},{thisNum:se,params:je}))};return Object(u.jsx)("button",{className:ie,onClick:function(){we()},children:Object(u.jsx)("div",{className:le,style:{backgroundImage:"url(".concat("/gungi-app","/images/").concat(je,".png)")}})})},C=Object(i.a)((function(e){return{squareContainer:{padding:0,margin:"0 auto",width:93},squareContainerSub:{height:150,backgroundColor:"#F8BE75",border:"1px solid #333",display:"flex",flexWrap:"wrap",flexDirection:"column"}}})),g=function(e){var t=C(),n=Object(s.useContext)(P),c=n.whitePieces,o=(n.setWhitePieces,Object(s.useContext)(P)),r=o.blackPieces,a=(o.setBlackPieces,Array.from(c).filter((function(e,t,n){return n.indexOf(e)===t}))),i=Array.from(r).filter((function(e,t,n){return n.indexOf(e)===t}));return Object(u.jsx)("div",{className:t.squareContainer,children:e.isWhite?Object(u.jsx)("div",{className:t.squareContainerSub,children:a.map((function(t){return Object(u.jsx)(N,{isWhite:e.isWhite,index:t})}))}):Object(u.jsx)("div",{className:t.squareContainerSub,children:i.map((function(t){return Object(u.jsx)(N,{isWhite:e.isWhite,index:t})}))})})},k=Object(i.a)((function(e){return{container:{margin:0,width:"50px"},square:{width:30,height:30,borderWidth:0,backgroundColor:"#F8BE75"},piece:{backgroundSize:"contain",borderWidth:0,width:30,height:30},selected:{backgroundColor:"#D0D0D0"}}})),N=function(e){var t,n=k(),c=Object(s.useContext)(P),o=c.whitePieces,r=(c.setWhitePieces,Object(s.useContext)(P)),a=r.blackPieces,i=(r.setBlackPieces,Object(s.useContext)(P)),l=i.pieces,h=(i.setPieces,Object(s.useContext)(P)),f=h.turn,d=(h.setTurn,Object(s.useContext)(P)),p=d.select,b=d.setSelect,v=Object(s.useContext)(P),j=v.clickFlag,w=v.setClickFlag,O=Object(s.useContext)(P),x=(O.canMove,O.setCanMove),y=Object(s.useContext)(P),C=(y.modal,y.setModal,Object(s.useContext)(P)),g=(C.attack,C.setAttack,Object(s.useContext)(P)),N=g.phase,A=(g.setPhase,Object(s.useContext)(P)),S=(A.click,A.setlick,Object(s.useContext)(P)),W=S.bouCheck,M=(S.setBouCheck,e.index);t=e.isWhite?1:2;var B,F="".concat(n.piece);p.type===M&&p.num===89+t&&(F+=" ".concat(n.selected)),B=e.isWhite?Array.from(o):Array.from(a);for(var D,T=0,q=0;q<B.length;++q)B[q]==M&&T++;D=1===T?0:2===T?1===t?1:2:3===T?1===t?3:6:7;var K="piece".concat(e.index,"-").concat(t,"-").concat(D),z=Array.from(l),I=1===f?2:1,E=function(){var e=[];if(1===t)for(var n=6;n<9;n++)for(var s=0;s<9;s++)e.push(Object(m.a)(Object(m.a)({},z[10*n+s]),{},{index:10*n+s}));if(2===t)for(var c=0;c<3;c++)for(var o=0;o<9;o++)e.push(Object(m.a)(Object(m.a)({},z[10*c+o]),{},{index:10*c+o}));var r=e.filter((function(e){if(0!==e.type&&e.whose!==I&&3!==e.level)return!0})).map((function(e){return e.index}));x(r)};W[f-1];return Object(u.jsx)("button",{className:n.square,onClick:function(){(1===N||2===N||3===N&&!0===W[f-1])&&(!1===j?t===f&&(w(!j),b({num:t+89,type:M,level:1}),E()):p.num===t+89&&(w(!j),b({num:-1,type:-1,level:0}),x([])))},children:Object(u.jsx)("div",{className:F,style:{backgroundImage:"url(".concat("/gungi-app","/images/").concat(K,".png)")}})})},A=Object(i.a)((function(e){return{paramsContainer:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},button1:{marginBottom:10,width:160},bunttonContainer:{},button2:{marginBottom:10}}})),S=function(e){var t=A(),n=Object(s.useContext)(P),c=n.phase,o=n.setPhase,r=Object(s.useContext)(P),a=(r.select,r.setSelect),i=Object(s.useContext)(P),h=(i.canMove,i.setCanMove),f=Object(s.useContext)(P),d=(f.whitePieces,f.setWhitePieces),p=Object(s.useContext)(P),b=(p.blackPieces,p.setBlackPieces),v=Object(s.useContext)(P),j=(v.clickFlag,v.setClickFlag),w=Object(s.useContext)(P),m=w.turn,O=w.setTurn,x=Object(s.useContext)(P),y=x.pieces,C=x.setPieces,g=Object(s.useContext)(P),k=g.winner,N=(g.setWinner,Object(s.useContext)(P)),S=N.kifu,W=N.setKifu,M=Object(s.useContext)(P),B=M.yomifu,F=M.setYomifu,D=Object(s.useContext)(P),T=D.click,q=(D.setClick,Object(s.useContext)(P)),K=q.bouFlagW,z=(q.setBouFlagW,Object(s.useContext)(P)),I=z.bouFlagB,E=(z.setBouFlagB,Object(s.useContext)(P)),L=(E.bouCheck,E.setBouCheck),Y=Object(s.useContext)(P),J=Y.curKifu,G=Y.setCurKifu,H=["\u5e2b","\u5927","\u4e2d","\u5c0f","\u5175","\u4f8d","\u5fcd","\u99ac","\u5f13","\u7826","\u69cd","\u8b00","\u7832","\u7b52"],Q="",R="",U="";1===T.level&&(Q="".concat(H[T.type])),2===T.level&&(Q="\u4e0a\u6bb5\uff1a".concat(H[T.type]),R="\u4e0b\u6bb5\uff1a".concat(H[T.under.type])),3===T.level&&(Q="\u4e0a\u6bb5\uff1a".concat(H[T.type]),R="\u4e2d\u6bb5\uff1a".concat(H[T.under.type]),U="\u4e0b\u6bb5\uff1a".concat(H[T.under.under.type]));var V=function(){var e=new Array(89).fill({type:-1,whose:0,level:0}),t=function(t,n,s,c,o){var r=8-t%10,a=10*(8-(t-(8-r))/10)+r;1===s&&(e.splice(t,1,{type:n,whose:1,level:1}),e.splice(a,1,{type:n,whose:2,level:1})),2===s&&(e.splice(t,1,{type:n,whose:1,level:2,under:{type:c,whose:1,level:1}}),e.splice(a,1,{type:n,whose:2,level:2,under:{type:c,whose:2,level:1}})),3===s&&(e.splice(t,1,{type:n,whose:1,level:3,under:{type:c,whose:1,level:2,under:{type:o,whose:1,level:1}}}),e.splice(a,1,{type:n,whose:2,level:3,under:{type:c,whose:2,level:2,under:{type:o,whose:2,level:1}}}))};return t(84,0,1),t(74,12,1),t(64,6,1),t(63,4,1),t(65,4,1),t(62,7,1),t(66,7,1),t(73,1,2,6),t(75,2,2,13),t(70,5,2,10),t(78,5,2,10),t(61,3,2,4),t(67,3,2,4),t(82,8,3,9,10),t(86,8,3,9,11),e},X=function(){for(var e=new Array(89).fill({type:-1,whose:0,level:0}),t=new Array(22),n=0;n<14;n++)t[n]=n;for(var s=3;s<11;s++)t[s+14-3]=s;t.push(4),t.push(4),t.push(10),t.sort((function(e,t){return e-t}));for(var c=new Array(22),r=0;r<14;r++)c[r]=r;for(var i=3;i<11;i++)c[i+14-3]=i;c.push(4),c.push(4),c.push(10),c.sort((function(e,t){return t-e})),o(1),a({num:90,type:0,level:1});for(var l=[],u=6;u<9;u++)for(var f=0;f<9;f++)l.push(10*u+f);C(e),F([]),j(!1),h(l),d(t),b(c),O(1),W([e])},Z=function(e){return 1===e?2:1}(m),$=function(){var e=c;2===c&&O(Z),o(e+1),function(){var e=y.filter((function(e){return 1===e.whose})),t=y.filter((function(e){return 2===e.whose})),n=e.some((function(e){return 11===e.type})),s=t.some((function(e){return 11===e.type}));L([n,s])}()},_=function(){o(3),F([]),C(V()),d([]),b([]),j(!1),O(1),W([V()])},ee=function(e){if(!0===e){var t=J;G(t-1),C(S[t-1])}if(!1===e){var n=J;G(n+1),C(S[n+1])}};if(0===c)return Object(u.jsxs)("div",{className:t.paramsContainer,children:[Object(u.jsx)(l.a,{variant:"contained",color:"primary",className:t.button1,onClick:function(){return X()},children:"\u59cb\u3081\u308b"}),Object(u.jsx)(l.a,{variant:"contained",color:"primary",className:t.button1,onClick:function(){return _()},children:"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8"})]});if(1===c||2===c){var te,ne="".concat(S.length);return te=1===c?2===m?!1===K?Object(u.jsx)(l.a,{variant:"contained",className:t.button1,children:"\u6e08\u307f"}):Object(u.jsx)(l.a,{variant:"contained",color:"primary",className:t.button1,onClick:function(){return $()},children:"\u6e08\u307f"}):!1===I?Object(u.jsx)(l.a,{variant:"contained",className:t.button1,children:"\u6e08\u307f"}):Object(u.jsx)(l.a,{variant:"contained",color:"primary",className:t.button1,onClick:function(){return $()},children:"\u6e08\u307f"}):1===m?!1===K?Object(u.jsx)(l.a,{variant:"contained",className:t.button1,children:"\u6e08\u307f"}):Object(u.jsx)(l.a,{variant:"contained",color:"primary",className:t.button1,onClick:function(){return $()},children:"\u6e08\u307f"}):!1===I?Object(u.jsx)(l.a,{variant:"contained",className:t.button1,children:"\u6e08\u307f"}):Object(u.jsx)(l.a,{variant:"contained",color:"primary",className:t.button1,onClick:function(){return $()},children:"\u6e08\u307f"}),Object(u.jsxs)("div",{className:t.paramsContainer,children:[te,Object(u.jsxs)("div",{children:[ne,"\u624b\u76ee"]}),Object(u.jsx)("div",{children:B})]})}if(3===c){var se="".concat(S.length),ce="";return ce+=1===m?"\u767d":"\u9ed2",Object(u.jsxs)("div",{className:t.paramsContainer,children:[Object(u.jsxs)("div",{children:[ce,"\u756a"]}),Object(u.jsxs)("div",{children:[se,"\u624b\u76ee"]}),Object(u.jsx)("div",{children:B}),Object(u.jsx)("div",{children:Q}),Object(u.jsx)("div",{children:R}),Object(u.jsx)("div",{children:U})]})}if(4===c){var oe="".concat(J),re="";re=1===k?"\u767d":"\u9ed2";var ae="";ae=J>0?Object(u.jsx)(l.a,{variant:"contained",className:t.button2,color:"primary",onClick:function(){return ee(!0)},children:"\u2190"}):Object(u.jsx)(l.a,{variant:"contained",className:t.button2,children:"\u2190"});var ie="";return ie=J<S.length-1?Object(u.jsx)(l.a,{variant:"contained",className:t.button2,color:"primary",onClick:function(){return ee(!1)},children:"\u2192"}):Object(u.jsx)(l.a,{variant:"contained",className:t.button2,children:"\u2192"}),Object(u.jsxs)("div",{className:t.paramsContainer,children:[Object(u.jsxs)("div",{children:[oe,"\u624b\u76ee"]}),Object(u.jsxs)("div",{children:["\u52dd\u8005 :\u3000",re]}),Object(u.jsxs)("div",{className:t.bunttonContainer,children:[ae,ie]}),Object(u.jsx)(l.a,{variant:"contained",color:"primary",className:t.button1,onClick:function(){return X()},children:"\u518d\u6226"}),Object(u.jsx)(l.a,{variant:"contained",color:"primary",className:t.button1,onClick:function(){return _()},children:"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8"})]})}return null},P=Object(s.createContext)(),W=new Array(89).fill({type:-1,whose:0,level:0}),M=new Array(22),B=0;B<14;B++)M[B]=B;for(var F=3;F<11;F++)M[F+14-3]=F;M.push(4),M.push(4),M.push(10),M.sort((function(e,t){return e-t}));for(var D=new Array(22),T=0;T<14;T++)D[T]=T;for(var q=3;q<11;q++)D[q+14-3]=q;D.push(4),D.push(4),D.push(10),D.sort((function(e,t){return t-e}));var K=function(){var e=Object(s.useState)(W),t=Object(a.a)(e,2),n=t[0],c=t[1],o=Object(s.useState)(1),r=Object(a.a)(o,2),i=r[0],l=r[1],h=Object(s.useState)({num:-1,type:-1,level:0}),f=Object(a.a)(h,2),d=f[0],p=f[1],b=Object(s.useState)(!1),j=Object(a.a)(b,2),w=j[0],m=j[1],O=Object(s.useState)([]),x=Object(a.a)(O,2),y=x[0],C=x[1],g=Object(s.useState)(0),k=Object(a.a)(g,2),N=k[0],A=k[1],S=Object(s.useState)({num:0,offense:-1,defense:-1}),B=Object(a.a)(S,2),F=B[0],T=B[1],q=Object(s.useState)(M),K=Object(a.a)(q,2),z=K[0],I=K[1],E=Object(s.useState)(D),L=Object(a.a)(E,2),Y=L[0],J=L[1],G=Object(s.useState)(0),H=Object(a.a)(G,2),Q=H[0],R=H[1],U=Object(s.useState)(0),V=Object(a.a)(U,2),X=V[0],Z=V[1],$=Object(s.useState)([]),_=Object(a.a)($,2),ee=_[0],te=_[1],ne=Object(s.useState)(""),se=Object(a.a)(ne,2),ce=se[0],oe=se[1],re=Object(s.useState)([{num:-1,type:-1,level:0}]),ae=Object(a.a)(re,2),ie=ae[0],le=ae[1],ue=Object(s.useState)(!1),he=Object(a.a)(ue,2),fe=he[0],de=he[1],pe=Object(s.useState)(!1),be=Object(a.a)(pe,2),ve=be[0],je=be[1],we=Object(s.useState)(!1),me=Object(a.a)(we,2),Oe=me[0],xe=me[1],ye=Object(s.useState)([!1,!1]),Ce=Object(a.a)(ye,2),ge=Ce[0],ke=Ce[1],Ne=Object(s.useState)(-1),Ae=Object(a.a)(Ne,2),Se=Ae[0],Pe=Ae[1];return Object(s.useEffect)((function(){}),[y]),Object(u.jsx)("div",{children:Object(u.jsx)(P.Provider,{value:{pieces:n,setPieces:c,turn:i,setTurn:l,select:d,setSelect:p,clickFlag:w,setClickFlag:m,canMove:y,setCanMove:C,modal:N,setModal:A,attack:F,setAttack:T,whitePieces:z,setWhitePieces:I,blackPieces:Y,setBlackPieces:J,phase:Q,setPhase:R,winner:X,setWinner:Z,kifu:ee,setKifu:te,yomifu:ce,setYomifu:oe,click:ie,setClick:le,firstArata:fe,setFirstArata:de,bouFlagW:ve,setBouFlagW:je,bouFlagB:Oe,setBouFlagB:xe,bouCheck:ge,setBouCheck:ke,curKifu:Se,setCurKifu:Pe},children:Object(u.jsx)(v,{})})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),o(e),r(e)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(K,{})}),document.getElementById("root")),z()}},[[42,1,2]]]);
//# sourceMappingURL=main.cba958c2.chunk.js.map