{"version":3,"sources":["App.jsx","components/modals.jsx","components/GameScreen.jsx","components/Board.jsx","components/Piece.jsx","components/OwnPieceArea.jsx","components/OwnPiece.jsx","components/Params.jsx","components/Rule.jsx","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","paper","position","width","marginTop","paperM","margin","content","display","justifyContent","flexDirection","button1","button2","height","padding","closeContainer","ruleBookContainer","backgroundColor","ruleBookContainerM","Attack","classes","useContext","PieceContext","modal","setModal","turn","setTurn","attack","setAttack","isWide","useMedia","minWidth","paperString","clickButton","number","newAttack","num","offense","defense","id","className","Button","variant","color","onClick","RuleBook","ruleBookContainerString","ruleBook","setRuleBook","container","topBar","alignItems","topBarM","gameArea","leftParamsArea","rightParamsArea","paramsArea","board","containerM","gameAreaM","ownPieceArea","paramsAreaM","boardM","GameScreen","setPhase","phase","setPieces","pieces","clickRule","initPieces","Array","fill","type","whose","level","clickRestart","isWhite","columnContainer","rowContainer","marginBottom","columnContainerM","rowContainerM","Board","renderPiece","column","row","nineCount","map","columnInt","rowInt","square","borderWidth","borderColor","boxSizing","marginLeft","borderSpacing","borderCollapse","squareM","text","fontSize","piece","backgroundSize","pieceM","selected","canMove","image","Piece","props","select","setSelect","clickFlag","setClickFlag","setCanMove","whitePieces","setWhitePieces","blackPieces","setBlackPieces","setWinner","winner","kifu","setKifu","setYomifu","yomifu","setClick","click","firstArata","setFirstArata","setBouCheck","bouCheck","setCurKifu","curKifu","thisNum","curPieces","from","thisPiece","thisClickFlag","squareString","classString","includes","oppTurn","x","y","kanji","addKifu","thisPieces","newKifu","push","checkBou","WFleg","BFleg","reduce","accumulator","currentValue","pieceIndex","prevArray","Wy","By","console","log","length","useEffect","newPiece","offenseLevel","difenseLevel","splice","under","thisUnderColor","thisPieceString","clickPiece","moveCalculate","xy","dx","dy","isPiece","canMoveNum","i","newMove","checkedCanMove","array","checkCanMove","index","filter","item","isIncludeKing","checkedRideable","checkRideable","checkedLevel","checkLevel","searchCanMove","newWhitePieces","arataIndex","indexOf","newBlackPieces","curCanMove","j","params","style","backgroundImage","process","squareContainer","squareContainerSub","border","flexWrap","OwnPieceArea","whiteTypes","self","blackTypes","OwnPiece","whoseNum","setlick","thisType","curOwnPieces","count","checkAratable","checkedAratable","searchCanMove1","WArea","BArea","searchCanMove2","paramsContainer","button1M","bunttonContainer","button2M","Params","button1String","button2String","clickString1","clickString2","clickString3","templateSet","templateSetSub","culcuTemplateSet","under1","under2","oppNum","start","initWhitePieces","sort","a","b","initBlackPieces","toggleWhose","endPut","curPhase","curWPiece","curBPiece","checkBouW","some","checkBouB","quickStart","displayKifu","direction","befCurKifu","sumiBotton","numString","turnString","winnerString","prevKifuButton","nextKifuButton","overflowX","overflowY","images","contents","Rule","containerString","Accordion","AccordionSummary","Typography","AccordionDetails","accoContainer","createContext","App","useState","Provider","value","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fe173d2f.chunk.js","sourcesContent":["// import './App.css';\r\nimport React, {useState, createContext, useEffect} from 'react'\r\nimport './assets/styles/style.css'\r\nimport { GameScreen } from \"./components/index.js\";\r\n\r\nexport const PieceContext = createContext();\r\n\r\nconst initPieces = new Array(89).fill({type: -1, whose: 0, level: 0});\r\n// initPieces[64] = {type: 11, whose: 1, level: 1};\r\n// initPieces[84] = {type: 12, whose: 1, level: 1};\r\n// initPieces[62] = {type: 4, whose: 1, level: 1};\r\n// initPieces[82] = {type: 4, whose: 1, level: 1};\r\n// initPieces[24] = {type: 11, whose: 2, level: 1};\r\n// initPieces[4] = {type: 12, whose: 2, level: 1};\r\n// initPieces[32] = {type: 4, whose: 2, level: 2, under: {type: 4, whose: 1, level: 1}};\r\n\r\n// let emptyArr25 = new Array(25);\r\nlet initWhitePieces = new Array(25 - 3);\r\nfor (let i = 0; i < 14; i++) {\r\n  initWhitePieces[i] = i;\r\n}\r\nfor (let i = 3; i < 11; i++) {\r\n  initWhitePieces[i + 14 - 3] = i;\r\n}\r\ninitWhitePieces.push(4);\r\ninitWhitePieces.push(4);\r\ninitWhitePieces.push(10);\r\ninitWhitePieces.sort(function(a, b) {\r\n  return a - b;\r\n});\r\n\r\nlet initBlackPieces = new Array(25 - 3);\r\nfor (let i = 0; i < 14; i++) {\r\n  initBlackPieces[i] = i;\r\n}\r\nfor (let i = 3; i < 11; i++) {\r\n  initBlackPieces[i + 14 - 3] = i;\r\n}\r\ninitBlackPieces.push(4);\r\ninitBlackPieces.push(4);\r\ninitBlackPieces.push(10);\r\ninitBlackPieces.sort(function(a, b) {\r\n  return b - a;\r\n});\r\n\r\nconst App = () => {\r\n  const [ pieces, setPieces ] = useState(initPieces);\r\n  const [ turn, setTurn ] = useState(1);\r\n  const [ select, setSelect ] = useState({num: -1, type: -1, level: 0});\r\n  const [ clickFlag, setClickFlag ] = useState(false);\r\n  const [ canMove, setCanMove ] = useState([]);\r\n  const [ modal, setModal ] = useState(0);\r\n  const [ attack, setAttack ] = useState({num: 0, offense: -1, defense: -1});\r\n  const [ whitePieces, setWhitePieces ] = useState(initWhitePieces);\r\n  const [ blackPieces, setBlackPieces ] = useState(initBlackPieces);\r\n  const [ phase, setPhase ] = useState(0);\r\n  const [ winner, setWinner ] = useState(0);\r\n  const [ kifu, setKifu ] = useState([]);\r\n  const [ yomifu, setYomifu ] = useState(\"\");\r\n  const [ click, setClick ] = useState([{num: -1, type: -1, level: 0}]);\r\n  const [ firstArata, setFirstArata ] = useState(false);\r\n  const [ bouCheck, setBouCheck ] = useState([-1, -1]);\r\n  const [ curKifu, setCurKifu ] = useState(-1);\r\n  const [ ruleBook, setRuleBook ] = useState(false);\r\n\r\n  useEffect(() => {\r\n      // console.log(canMove);\r\n  }, [canMove])\r\n  \r\n  return(\r\n    <div>\r\n      <PieceContext.Provider value={{pieces, setPieces, turn, setTurn, select, setSelect, clickFlag, setClickFlag, canMove, setCanMove, modal, setModal, attack, setAttack, whitePieces, setWhitePieces, blackPieces, setBlackPieces, phase, setPhase, winner, setWinner, kifu, setKifu,  yomifu, setYomifu, click, setClick, firstArata, setFirstArata, bouCheck, setBouCheck, curKifu, setCurKifu, ruleBook, setRuleBook}}>\r\n        <GameScreen />\r\n      </PieceContext.Provider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React, { useContext } from 'react';\r\nimport { PieceContext } from '../App'\r\nimport { makeStyles } from '@mui/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport ClearRoundedIcon from '@material-ui/icons/ClearRounded';\r\nimport { Rule } from \"./index.js\"\r\nimport useMedia from 'use-media';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 120,\r\n    // backgroundColor: theme.palette.background.paper,\r\n    // boxShadow: theme.shadows[5],\r\n    // padding: theme.spacing(2, 2, 2),\r\n    marginTop: 250,\r\n  },\r\n  paperM: {\r\n    position: 'absolute',\r\n    width: 120,\r\n    // backgroundColor: theme.palette.background.paper,\r\n    // boxShadow: theme.shadows[5],\r\n    // padding: theme.spacing(1, 2, 1),\r\n    margin: \"0 0 0 20px\",\r\n    // margin: \"-98px 0 0 5px\",\r\n    // display: \"flex\",\r\n    // flexDirection: \"column\",\r\n    // marginTop: 250,\r\n    // justifyContent: \"center\",\r\n  },\r\n  content: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    flexDirection: \"column\",\r\n    width: 120,\r\n    // margin: 5,\r\n  },\r\n  button1: {\r\n    margin: 5,\r\n  },\r\n  button2: {\r\n    height: 30,\r\n    width: 30,\r\n    margin: 5,\r\n    padding: 0,\r\n  },\r\n  closeContainer: {\r\n      display: \"flex\",\r\n      justifyContent: \"flex-end\",\r\n  },\r\n  ruleBookContainer: {\r\n    width: 458,\r\n    height: 458,\r\n    backgroundColor: \"#cccccc\",\r\n    position: \"absolute\",\r\n    // marginLeft: 130,\r\n    // marginTop: 130,\r\n  },\r\n  ruleBookContainerM: {\r\n    margin: -2,\r\n    width: 354,\r\n    height: 354,\r\n    backgroundColor: \"#cccccc\",\r\n    position: \"absolute\",\r\n    // marginLeft: 130,\r\n    // marginTop: 130,\r\n  },\r\n}));\r\n\r\nconst Attack = () => {\r\n    const classes = useStyles();\r\n    const { modal, setModal } = useContext(PieceContext);\r\n    const { turn, setTurn } = useContext(PieceContext);\r\n    const { attack, setAttack } = useContext(PieceContext);\r\n    const isWide = useMedia({minWidth: '769px'});\r\n    let paperString = \"\";\r\n    if(isWide) {\r\n        paperString = `${classes.paper}`\r\n    } else {\r\n        paperString = `${classes.paperM}`\r\n    }\r\n    const clickButton = (number) => {\r\n        setModal(0);\r\n        const newAttack = {num: number, offense: attack.offense, defense: attack.defense}\r\n        setAttack(newAttack);\r\n    }\r\n\r\n    if(modal === 1) {\r\n        return (\r\n            <div id=\"modal\" className={paperString}>\r\n                <div id=\"content\" className={classes.content}>\r\n                    <Button \r\n                        variant=\"contained\" \r\n                        color=\"secondary\" \r\n                        className={classes.button1}\r\n                        onClick={() => clickButton(2)}\r\n                    >\r\n                        \r\n                    </Button>\r\n                    <Button \r\n                        variant=\"contained\" \r\n                        color=\"primary\" \r\n                        className={classes.button1}\r\n                        onClick={() => clickButton(3)}\r\n                    >\r\n                        \r\n                    </Button>\r\n                    <Button \r\n                        variant=\"contained\" \r\n                        // color=\"#cccccc\" \r\n                        className={classes.button1}\r\n                        onClick={() => clickButton(1)}\r\n                    >\r\n                        \r\n                        {/* <ClearRoundedIcon /> */}\r\n                    </Button>\r\n                </div>\r\n            </div >\r\n        )\r\n    } else if (modal === 2) {\r\n        return (\r\n            <div id=\"modal\" className={paperString}>\r\n                <div id=\"content\" className={classes.content}>\r\n                    <Button \r\n                        variant=\"contained\" \r\n                        color=\"primary\" \r\n                        className={classes.button1}\r\n                        onClick={() => clickButton(3)}\r\n                    >\r\n                        \r\n                    </Button>\r\n                        <Button \r\n                        variant=\"contained\" \r\n                        className={classes.button1}\r\n                        onClick={() => clickButton(1)}\r\n                    >\r\n                        \r\n                        {/* <ClearRoundedIcon /> */}\r\n                    </Button>\r\n                </div>\r\n            </div >\r\n        )\r\n    } else if (modal === 3) {\r\n        return (\r\n            <div id=\"modal\" className={paperString}>\r\n                <div id=\"content\" className={classes.content}>\r\n                    <Button \r\n                        variant=\"contained\" \r\n                        color=\"secondary\" \r\n                        className={classes.button1}\r\n                        onClick={() => clickButton(2)}\r\n                    >\r\n                        \r\n                    </Button>\r\n                        <Button \r\n                        variant=\"contained\" \r\n                        className={classes.button1}\r\n                        onClick={() => clickButton(1)}\r\n                    >\r\n                        \r\n                        {/* <ClearRoundedIcon /> */}\r\n                    </Button>\r\n                </div>\r\n            </div >\r\n        )\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\nconst RuleBook = () => {\r\n    const classes = useStyles();\r\n    const isWide = useMedia({minWidth: '769px'});\r\n    let ruleBookContainerString = \"\";\r\n    if(isWide) {\r\n        ruleBookContainerString = `${classes.ruleBookContainer}`\r\n    } else {\r\n        ruleBookContainerString = `${classes.ruleBookContainerM}`\r\n    }\r\n    const { ruleBook, setRuleBook } = useContext(PieceContext);\r\n    const clickRule = () => {\r\n        setRuleBook(!ruleBook)\r\n    }\r\n    if(ruleBook) {\r\n        return (\r\n            <div className={ruleBookContainerString}>\r\n                <div className={classes.closeContainer}>\r\n                    <Button \r\n                        variant=\"contained\" \r\n                        // color=\"secondary\" \r\n                        className={classes.button2}\r\n                        onClick={() => clickRule()}\r\n                    >\r\n                        \r\n                    </Button>\r\n                </div>\r\n                <Rule />\r\n            </div>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\nexport { Attack, RuleBook}","import React, { useContext } from 'react';\r\nimport { PieceContext } from '../App'\r\nimport { Board, OwnPieceArea, Params } from \"./index.js\"\r\nimport { Attack, RuleBook } from './modals.jsx';\r\nimport { makeStyles } from '@mui/styles';\r\nimport useMedia from 'use-media';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        display: 'flex',\r\n        margin: \"0 auto\",\r\n        width: 900,\r\n        flexDirection: 'column',\r\n    },\r\n    topBar: {\r\n        display: 'flex',\r\n        margin: '10px auto',\r\n        // flexDirection: 'column',\r\n        alignItems: \"space-around\",\r\n        justifyContent: \"space-around\",\r\n        height: 50,\r\n        width: 360\r\n    },\r\n    topBarM: {\r\n        display: 'flex',\r\n        margin: '10px auto',\r\n        // flexDirection: 'column',\r\n        alignItems: \"space-around\",\r\n        justifyContent: \"space-around\",\r\n        // height: 50,\r\n        width: 360,\r\n    },\r\n    \r\n    gameArea: {\r\n        display: 'flex',\r\n        // flexDirection: 'column',\r\n        margin: '0 auto',\r\n        // paddingTop: '50px',\r\n    },\r\n    leftParamsArea: {\r\n        display: 'flex',\r\n        justifyContent: \"center\",\r\n        width: 170,\r\n    },\r\n    rightParamsArea: {\r\n        display: 'flex',\r\n        // margin: \"0 20px\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        flexDirection: 'column',\r\n        // width: 200,\r\n        width: 170,\r\n        // height: 460,\r\n    },\r\n    paramsArea: {\r\n        // display: 'flex',\r\n        height: 200,\r\n        width: 160,\r\n    },\r\n    board: {\r\n        marginTop: 1,\r\n    },\r\n    button1: {\r\n        // marginBottom: 10,\r\n        width: 120,\r\n    },\r\n    containerM: {\r\n        // display: 'flex',\r\n        margin: \"0 auto\",\r\n        // flexDirection: 'column',\r\n        // justifyContent: \"center\",\r\n        // alignItems: \"center\",\r\n        // width: 900,\r\n    },\r\n    gameAreaM: {\r\n        display: 'flex',\r\n        // margin: \"50px auto\",\r\n        flexDirection: 'column',\r\n        // justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },\r\n    ownPieceArea: {\r\n        display: 'flex',\r\n        // justifyContent: \"center\",\r\n        // alignItems: \"center\",\r\n        margin: 20,\r\n    },\r\n    paramsAreaM: {\r\n        // display: 'flex',\r\n        // justifyContent: \"center\",\r\n        // padding: 20,\r\n    },\r\n    boardM: {\r\n        marginTop: 1,\r\n    },\r\n  }));\r\n\r\nconst GameScreen = () => {\r\n    const classes = useStyles();\r\n    const isWide = useMedia({minWidth: '769px'});\r\n    const { ruleBook, setRuleBook } = useContext(PieceContext);\r\n    const { phase, setPhase } = useContext(PieceContext);\r\n    const { pieces, setPieces } = useContext(PieceContext);\r\n    // const { kifu, setKifu } = useContext(PieceContext);\r\n\r\n    const clickRule = () => {\r\n        setRuleBook(!ruleBook)\r\n    }\r\n\r\n    const initPieces = new Array(89).fill({type: -1, whose: 0, level: 0});\r\n    const clickRestart = () => {\r\n        setPhase(0);\r\n        setPieces(initPieces);\r\n        // setKifu([])\r\n    }\r\n    if(isWide) {\r\n        return(\r\n            <div className={classes.container}>\r\n                <div className={classes.topBar}>\r\n                    <Button \r\n                        variant=\"contained\" \r\n                        color=\"primary\" \r\n                        className={classes.button1}\r\n                        onClick={() => clickRestart()}\r\n                    >\r\n                        \r\n                    </Button>\r\n                    <Button \r\n                        variant=\"contained\" \r\n                        color=\"primary\" \r\n                        className={classes.button1}\r\n                        onClick={() => clickRule()}\r\n                    >\r\n                        \r\n                    </Button>\r\n                </div>\r\n                <div className={classes.gameArea}>\r\n                    <div className={classes.leftParamsArea}>\r\n                        <OwnPieceArea isWhite={false} />\r\n                        <Attack />\r\n                    </div>\r\n                    <div className={classes.board}>\r\n                        {/* <div className={classes.ruleContainer}> */}\r\n                            <RuleBook />\r\n                        {/* </div> */}\r\n                        <Board />\r\n                    </div>\r\n                    <div className={classes.rightParamsArea}>\r\n                        <div className={classes.paramsArea}>\r\n                            <Params />\r\n                        </div>\r\n                        <OwnPieceArea isWhite={true} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else {\r\n        return(\r\n            <div className={classes.containerM}>\r\n                <div className={classes.topBarM}>\r\n                    <Button \r\n                        variant=\"contained\" \r\n                        color=\"primary\" \r\n                        className={classes.button1}\r\n                        onClick={() => clickRestart()}\r\n                    >\r\n                        \r\n                    </Button>\r\n                    <Button \r\n                        variant=\"contained\" \r\n                        color=\"primary\" \r\n                        className={classes.button1}\r\n                        onClick={() => clickRule()}\r\n                    >\r\n                        \r\n                    </Button>\r\n                </div>\r\n                <div className={classes.gameAreaM}>\r\n                    <div className={classes.boardM}>\r\n                        <RuleBook />\r\n                        <Board />\r\n                    </div>    \r\n                    <div className={classes.ownPieceArea}>\r\n                        <OwnPieceArea isWhite={true} />\r\n                        <div className={classes.paramsAreaM}>\r\n                            <Params />\r\n                            <Attack />\r\n                        </div>\r\n                        <OwnPieceArea isWhite={false} />\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default GameScreen;","import React from 'react';\r\nimport { Piece } from \"./index.js\"\r\nimport { makeStyles } from '@mui/styles';\r\nimport useMedia from 'use-media';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        display: 'flex',\r\n        margin: 0,\r\n        width: '459px',\r\n    },\r\n    columnContainer: {\r\n        flexDirection: 'column',\r\n        display: 'flex',\r\n    },\r\n    rowContainer: {\r\n        marginTop: -1,\r\n        marginBottom: 2,\r\n        height: 50,\r\n    },\r\n    containerM: {\r\n        display: 'flex',\r\n        margin: 0,\r\n        // width: '369px',\r\n        width: '351px',\r\n    },\r\n    columnContainerM: {\r\n        flexDirection: 'column',\r\n        display: 'flex',\r\n    },\r\n    rowContainerM: {\r\n        marginTop: -1,\r\n        marginBottom: 2,\r\n        // height: 40,\r\n        height: 38,\r\n    },\r\n  }));\r\n\r\nconst Board = () => {\r\n    const classes = useStyles();\r\n    const renderPiece = (column, row) => {\r\n        return <Piece \r\n            column={column}\r\n            row={row}\r\n        />\r\n    }\r\n    const nineCount = [1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n    const isWide = useMedia({minWidth: '769px'});\r\n    if(isWide){\r\n        return(\r\n            <div className={classes.container}>\r\n                {/* <div className={classes.status}>{status}</div> */}\r\n                <div className={classes.columnContainer}>\r\n                     {nineCount.map((columnInt) =>{\r\n                        return(\r\n                            <div className={classes.rowContainer}>\r\n                            {nineCount.map((rowInt) =>{\r\n                                return(renderPiece(columnInt, rowInt));\r\n                            })}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        )\r\n    } else {\r\n        return(\r\n            <div className={classes.containerM}>\r\n                {/* <div className={classes.status}>{status}</div> */}\r\n                <div className={classes.columnContainerM}>\r\n                     {nineCount.map((columnInt) =>{\r\n                        return(\r\n                            <div className={classes.rowContainerM}>\r\n                            {nineCount.map((rowInt) =>{\r\n                                return(renderPiece(columnInt, rowInt));\r\n                            })}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default Board;","import { makeStyles } from '@mui/styles';\r\nimport { PieceContext } from '../App'\r\nimport React, {useState, useContext, useEffect} from 'react'\r\nimport '../assets/styles/style.css'\r\nimport useMedia from 'use-media';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    square: {\r\n        width: 52,\r\n        height: 52,\r\n        borderWidth: 1,\r\n        borderColor: 'black',\r\n        boxSizing: \"border-box\",\r\n        marginLeft: -1,\r\n        backgroundColor: \"#F8BE75\",\r\n        borderSpacing: 0,\r\n        borderCollapse: \"collapse\",\r\n        boxSizing: \"border-box\",\r\n    },\r\n    squareM: {\r\n        width: 40,\r\n        height: 40,\r\n        borderWidth: 1,\r\n        borderColor: 'black',\r\n        boxSizing: \"border-box\",\r\n        marginLeft: -1,\r\n        backgroundColor: \"#F8BE75\",\r\n        borderSpacing: 0,\r\n        borderCollapse: \"collapse\",\r\n        boxSizing: \"border-box\",\r\n    },\r\n    text: {\r\n      fontSize: 24,\r\n    },\r\n    piece: {\r\n        backgroundSize: \"contain\",\r\n        margin: 0,\r\n        borderColor: 'black',\r\n        borderWidth: 1,\r\n        // boxSizing: \"border-box\",\r\n        width: 50,\r\n        height: 50,\r\n    },\r\n    pieceM: {\r\n        backgroundSize: \"contain\",\r\n        margin: 0,\r\n        borderColor: 'black',\r\n        borderWidth: 1,\r\n        // boxSizing: \"border-box\",\r\n        width: 38,\r\n        height: 38,\r\n    },\r\n    selected: {\r\n        backgroundColor: \"#D0D0D0\",\r\n    },\r\n    canMove: {\r\n        backgroundColor: \"#f5a38e\",\r\n    },\r\n    image: {\r\n\r\n    },\r\n  }));\r\n\r\nconst Piece = (props) => {\r\n    const classes = useStyles();\r\n    const { pieces, setPieces } = useContext(PieceContext);\r\n    const { turn, setTurn } = useContext(PieceContext);\r\n    const { select, setSelect } = useContext(PieceContext);\r\n    const { clickFlag, setClickFlag } = useContext(PieceContext);\r\n    const { canMove, setCanMove } = useContext(PieceContext);\r\n    const { modal, setModal } = useContext(PieceContext);\r\n    const { attack, setAttack } = useContext(PieceContext);\r\n    const { whitePieces, setWhitePieces } = useContext(PieceContext);\r\n    const { blackPieces, setBlackPieces } = useContext(PieceContext);\r\n    const { phase, setPhase } = useContext(PieceContext);\r\n    const { winner, setWinner } = useContext(PieceContext);\r\n    const { kifu, setKifu } = useContext(PieceContext);\r\n    const { yomifu, setYomifu } = useContext(PieceContext);\r\n    const { click, setClick } = useContext(PieceContext);\r\n    const { firstArata, setFirstArata } = useContext(PieceContext);\r\n    const { bouCheck, setBouCheck } = useContext(PieceContext);\r\n    const { curKifu, setCurKifu } = useContext(PieceContext);\r\n    \r\n    const thisNum = 10 * (props.column - 1) + 9 - props.row;\r\n\r\n    const curPieces = Array.from(pieces);\r\n    const thisPiece = curPieces[thisNum];\r\n\r\n    const thisClickFlag = clickFlag;\r\n    const isWide = useMedia({minWidth: '769px'});\r\n\r\n    let squareString = \"\";\r\n    if(isWide) {\r\n        squareString = `${classes.square}`;\r\n    } else {\r\n        squareString = `${classes.squareM}`;\r\n    }\r\n    let classString = \"\";\r\n    if(isWide) {\r\n        classString = `${classes.piece}`;\r\n    } else {\r\n        classString = `${classes.pieceM}`;\r\n    }\r\n\r\n    if (select.num === thisNum) {\r\n        classString  += ` ${classes.selected}`;\r\n    } \r\n    if (canMove.includes(thisNum)) {\r\n        classString  += ` ${classes.canMove}`;\r\n    }\r\n    \r\n    const toggleWhose = (whose) => {\r\n        if (whose === 1) {\r\n            return 2;\r\n        } else {\r\n            return 1;\r\n        }\r\n    }\r\n    const oppTurn = toggleWhose(turn);\r\n\r\n    const x = thisNum % 10;\r\n    const y = (thisNum - x) / 10;\r\n\r\n    const kanji = ['', '', '', '', '', '', '', '', '', '', '', '', '', ''];\r\n\r\n    const addKifu = (thisPieces) => {\r\n        const newKifu = Array.from(kifu);\r\n        newKifu.push(thisPieces);\r\n        setKifu(newKifu);\r\n    }\r\n\r\n    const checkBou = () => {\r\n        // const curWPiece = curPieces.filter((piece) => {\r\n        //     return piece.whose === 1;\r\n        // })\r\n        // const curBPiece = curPieces.filter((piece) => {\r\n        //     return piece.whose === 2;\r\n        // })\r\n        // const checkBouW = curWPiece.some((piece) => {\r\n        //     return piece.type === 11;\r\n        // })\r\n        let WFleg = false;\r\n        let BFleg = false;\r\n        const checkBou = curPieces.reduce((accumulator, currentValue, pieceIndex, prevArray) => {\r\n            let Wy = -1;\r\n            let By = -1;\r\n            if(!WFleg) {\r\n                if(currentValue.whose === 1) {\r\n                    if(currentValue.type === 11) {\r\n                        console.log(pieceIndex);\r\n                        Wy = (pieceIndex - (pieceIndex % 10)) / 10;\r\n                        WFleg = true;\r\n                        accumulator[0] = Wy;\r\n                    } \r\n                }\r\n                if(pieceIndex === prevArray.length - 1) {\r\n                    accumulator.push(Wy);\r\n                }\r\n            }\r\n            if(!BFleg) {\r\n                if(currentValue.whose === 2) {\r\n                    if(currentValue.type === 11) {\r\n                        console.log(pieceIndex);\r\n                        By = (pieceIndex - (pieceIndex % 10)) / 10;\r\n                        BFleg = true;\r\n                        accumulator[1] = By;\r\n                    }\r\n                }\r\n                if(pieceIndex === prevArray.length - 1) {\r\n                    accumulator.push(By);\r\n                }\r\n            }\r\n            return accumulator;\r\n        }, [])\r\n        setBouCheck(checkBou);\r\n    }\r\n\r\n    //\r\n    useEffect(() => {\r\n        //\r\n        if (attack.defense === thisNum){\r\n            if(attack.num === 1) {\r\n                if(turn === 1) {\r\n                    setTurn(2);\r\n                } else {\r\n                    setTurn(1);\r\n                }\r\n                setClickFlag(!clickFlag);\r\n                setAttack({num: 0, piece: -1});\r\n            }\r\n\r\n            let offenseLevel = 1;\r\n            let difenseLevel = 1;\r\n            if(attack.offense < 90) {\r\n                offenseLevel = curPieces[attack.offense].level;\r\n                difenseLevel = curPieces[attack.defense].level;\r\n            }\r\n            \r\n            //\r\n            if(attack.num === 2) {\r\n                //\r\n                if(offenseLevel === 3) {\r\n                    //33\r\n                    if(offenseLevel === difenseLevel) {\r\n                        curPieces.splice(attack.defense, 1, {type: curPieces[attack.offense].type, whose: oppTurn, level: curPieces[attack.offense].level, under: curPieces[attack.defense].under});\r\n                        curPieces.splice(attack.offense, 1, curPieces[attack.offense].under);\r\n                    } else if (offenseLevel - difenseLevel === 1) {\r\n                        curPieces.splice(attack.defense, 1, {type: curPieces[attack.offense].type, whose: oppTurn, level: curPieces[attack.offense].level - 1, under: curPieces[attack.defense].under});\r\n                        curPieces.splice(attack.offense, 1, curPieces[attack.offense].under);\r\n                    } else {\r\n                        curPieces.splice(attack.defense, 1, {type: curPieces[attack.offense].type, whose: oppTurn, level: curPieces[attack.offense].level - 2});\r\n                        curPieces.splice(attack.offense, 1, curPieces[attack.offense].under);\r\n                    }\r\n                //\r\n                } else if(offenseLevel === 2) {\r\n                    //22\r\n                    if(offenseLevel === difenseLevel) {\r\n                        curPieces.splice(attack.defense, 1, {type: curPieces[attack.offense].type, whose: oppTurn, level: curPieces[attack.offense].level, under: curPieces[attack.defense].under});\r\n                        curPieces.splice(attack.offense, 1, curPieces[attack.offense].under);\r\n                    } else {\r\n                        curPieces.splice(attack.defense, 1, {type: curPieces[attack.offense].type, whose: oppTurn, level: curPieces[attack.offense].level - 1});\r\n                        curPieces.splice(attack.offense, 1, curPieces[attack.offense].under);\r\n                    }\r\n                //\r\n                } else {\r\n                    curPieces.splice(attack.defense, 1, {type: curPieces[attack.offense].type, whose: oppTurn, level: curPieces[attack.offense].level});\r\n                    curPieces.splice(attack.offense, 1, {type: 0, whose: 0, level: 0});\r\n                }\r\n                addKifu(curPieces);\r\n                // setYomifu(`${x}-${y}-${thisPiece.level}-${kanji[thisPiece.type]}`);\r\n                setYomifu(`${x + 1}-${y + 1}-${curPieces[thisNum].level}-${kanji[curPieces[thisNum].type]}`);\r\n                setClickFlag(!clickFlag);\r\n                checkBou();\r\n            }\r\n            //\r\n            if(attack.num === 3) {\r\n                //\r\n                let newPiece;\r\n                if(attack.offense >= 90) {\r\n                    newPiece = {\r\n                        type: attack.type, \r\n                        whose: oppTurn, \r\n                        level: curPieces[attack.defense].level + 1,\r\n                        under: curPieces[attack.defense]\r\n                    }\r\n                    curPieces.splice(attack.defense, 1, newPiece);\r\n                } else {\r\n                    if(offenseLevel === 3) {\r\n                        if(offenseLevel - difenseLevel === 1) {\r\n                            newPiece = {\r\n                                type: curPieces[attack.offense].type, \r\n                                whose: oppTurn, \r\n                                level: curPieces[attack.offense].level,\r\n                                under: curPieces[attack.defense]\r\n                            }\r\n                        } else {\r\n                            newPiece = {\r\n                                type: curPieces[attack.offense].type, \r\n                                whose: oppTurn, \r\n                                level: curPieces[attack.offense].level - 1,\r\n                                under: curPieces[attack.defense]\r\n                            }\r\n                        }\r\n                    }\r\n                    if(offenseLevel === 2) {\r\n                        if(offenseLevel - difenseLevel === 1) {\r\n                            newPiece = {\r\n                                type: curPieces[attack.offense].type, \r\n                                whose: oppTurn, \r\n                                level: curPieces[attack.offense].level,\r\n                                under: curPieces[attack.defense]\r\n                            }\r\n                        } else {\r\n                            newPiece = {\r\n                                type: curPieces[attack.offense].type, \r\n                                whose: oppTurn, \r\n                                level: curPieces[attack.offense].level + 1,\r\n                                under: curPieces[attack.defense]\r\n                            }\r\n                        }  \r\n                    }\r\n                    if(offenseLevel === 1) {\r\n                        newPiece = {\r\n                            type: curPieces[attack.offense].type, \r\n                            whose: oppTurn, \r\n                            level: curPieces[attack.offense].level + 1,\r\n                            under: curPieces[attack.defense]\r\n                        }\r\n                    }\r\n                    curPieces.splice(attack.defense, 1, newPiece);\r\n                    if(offenseLevel >= 2) {\r\n                        curPieces.splice(attack.offense, 1, curPieces[attack.offense].under);\r\n                    } else {\r\n                        curPieces.splice(attack.offense, 1, {type: -1, whose: 0, level: 0});\r\n                    }\r\n                }\r\n                addKifu(curPieces);\r\n                setYomifu(`${x + 1}-${y + 1}-${curPieces[thisNum].level}-${kanji[curPieces[thisNum].type]}`);\r\n                setClickFlag(!clickFlag);\r\n                checkBou();\r\n            }\r\n            setPieces(curPieces);\r\n            setSelect({num: -1, type: -1, level: 0});\r\n        }\r\n    }, [attack])\r\n\r\n    const UnderColorCheck = () => {\r\n        if (thisPiece.level === 1) {\r\n            return 0;\r\n        } else if (thisPiece.level === 2) {\r\n            if (thisPiece.under.whose === 1) {\r\n                return 1;\r\n            } else {\r\n                return 2;\r\n            }\r\n        } else if (thisPiece.level === 3) {\r\n            if (thisPiece.under.whose === 1) {\r\n                if (thisPiece.under.under.whose === 1) {\r\n                    return 3;\r\n                } else {\r\n                    return 4;\r\n                }\r\n            } else {\r\n                if (thisPiece.under.under.whose === 1) {\r\n                    return 5;\r\n                } else {\r\n                    return 6;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    const thisUnderColor = UnderColorCheck();\r\n    const thisPieceString = `piece${thisPiece.type}-${thisPiece.whose}-${thisUnderColor}`;\r\n    // let provisionalPiece = \"\";\r\n    // if(thisPiece.whose !== 0) {\r\n    //     provisionalPiece = `piece0-${thisPiece.whose}-3`;\r\n    //     // provisionalPiece = \"testPiece\";\r\n    // }\r\n\r\n    const searchCanMove = () => {\r\n\r\n        const moveCalculate = (xy, whose) => {\r\n            if (whose === 1){\r\n                const dx = xy[0];\r\n                const dy = xy[1];\r\n                if(x + dx >= 0 && x + dx <= 9 && y + dy >= 0 && y + dy <= 9) {\r\n                    return (y + dy) * 10 + x + dx;\r\n                }\r\n            } else {\r\n                const dx = xy[0];\r\n                const dy = -xy[1];\r\n                if(x + dx >= 0 && x + dx <= 9 && y + dy >= 0 && y + dy <= 9) {\r\n                    return (y + dy) * 10 + x + dx;\r\n                }\r\n            }\r\n        }\r\n        // const checkCheckMate\r\n\r\n        const isIncludeKing = (array) => {\r\n            const checkCanMove = curPieces.reduce((accumulator, currentValue, pieceIndex, prevArray) => {\r\n                for(let i = 0; i < array.length; i++) {\r\n                    if (array[i] === pieceIndex) {\r\n                        accumulator.push({type: currentValue.type, whose: currentValue.whose, index: pieceIndex});\r\n                    }\r\n                }\r\n                return accumulator;\r\n            }, []).filter((item) => {\r\n                if(item.type === 0) {\r\n                    if(item.whose !== turn) {\r\n                        return true;\r\n                    } \r\n                } else {\r\n                    return true;\r\n                }\r\n                // return item.type !== 0 && item.whose === turn;\r\n            }).map((piece) => {\r\n                return piece.index;\r\n            })\r\n            return checkCanMove;\r\n        }\r\n        const checkRideable = (array) => {\r\n            let checkCanMove = [];\r\n            const alones = [0, 12, 13];\r\n            if(alones.includes(thisPiece.type)) {\r\n                checkCanMove = curPieces.reduce((accumulator, currentValue, pieceIndex, prevArray) => {\r\n                    for(let i = 0; i < array.length; i++) {\r\n                        if (array[i] === pieceIndex) {\r\n                            accumulator.push({type: currentValue.type, whose: currentValue.whose, index: pieceIndex});\r\n                        }\r\n                    }\r\n                    return accumulator;\r\n                }, []).filter((item) => {\r\n                    return item.whose !== turn;\r\n                }).map((piece) => {\r\n                    return piece.index;\r\n                })\r\n            } else {\r\n                checkCanMove = array;\r\n            }\r\n            return checkCanMove;\r\n        }\r\n\r\n        const checkLevel = (array) => {\r\n            const checkCanMove = curPieces.reduce((accumulator, currentValue, pieceIndex, prevArray) => {\r\n                for(let i = 0; i < array.length; i++) {\r\n                    if (array[i] === pieceIndex) {\r\n                        accumulator.push({...currentValue, index: pieceIndex});\r\n                    }\r\n                }\r\n                return accumulator;\r\n            }, []).filter((item) => {\r\n                if(thisPiece.type === 0 || thisPiece.type === 12 || thisPiece.type === 13) {\r\n                    return true;\r\n                } else if(thisPiece.type === 9){\r\n                    if(thisPiece.level === 3){\r\n                        if(thisPiece.level !== item.level){\r\n                            return true;\r\n                        }\r\n                    } else {\r\n                        if(thisPiece.level >= item.level) {\r\n                            return true;\r\n                          }\r\n                    }\r\n                } else {\r\n                    if(thisPiece.whose !== 3) {\r\n                        if(thisPiece.level >= item.level) {\r\n                            return true;\r\n                          }\r\n                    } else {\r\n                        if(thisPiece.whose !== item.whose) {\r\n                            if(thisPiece.level >= item.level) {\r\n                                return true;\r\n                              }\r\n                        } else {\r\n                            if(thisPiece.level > item.level) {\r\n                                return true;\r\n                              }\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n            }).map((piece) => {\r\n                return piece.index;\r\n            })\r\n            return checkCanMove;\r\n        }\r\n\r\n        const isPiece = (num) => {\r\n            if(num >= 0 && num <= 88) {\r\n                return curPieces[num].whose === 0;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        let canMoveNum = [];\r\n\r\n        switch (thisPiece.type) {\r\n            case 0 :\r\n                if(thisPiece.level === 1) {\r\n                    canMoveNum = [moveCalculate([0, -1], thisPiece.whose), moveCalculate([0, 1], thisPiece.whose), moveCalculate([1, 0], thisPiece.whose), moveCalculate([-1, 0], thisPiece.whose), \r\n                                    moveCalculate([1, -1], thisPiece.whose), moveCalculate([-1, -1], thisPiece.whose), moveCalculate([1, 1], thisPiece.whose), moveCalculate([-1, 1], thisPiece.whose)];\r\n                }\r\n                break;\r\n            case 1 :\r\n                if(thisPiece.level !== 0) {\r\n                    for(let i = 1; i <= 9; i++) {\r\n                        const newMove = moveCalculate([i, 0], thisPiece.whose);\r\n                        canMoveNum.push(newMove);\r\n                        if(!isPiece(newMove)) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    for(let i = 1; i <= 9; i++) {\r\n                        const newMove = moveCalculate([-i, 0], thisPiece.whose);\r\n                        canMoveNum.push(newMove);\r\n                        if(!isPiece(newMove)) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    for(let i = 1; i <= 9; i++) {\r\n                        const newMove = moveCalculate([0, i], thisPiece.whose);\r\n                        canMoveNum.push(newMove);\r\n                        if(!isPiece(newMove)) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    for(let i = 1; i <= 9; i++) {\r\n                        const newMove = moveCalculate([0, -i], thisPiece.whose);\r\n                        canMoveNum.push(newMove);\r\n                        if(!isPiece(newMove)) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(thisPiece.level >= 2) {\r\n                        canMoveNum.push(moveCalculate([1, 1], thisPiece.whose));\r\n                        canMoveNum.push(moveCalculate([1, -1], thisPiece.whose));\r\n                        canMoveNum.push(moveCalculate([-1, 1], thisPiece.whose));\r\n                        canMoveNum.push(moveCalculate([-1, -1], thisPiece.whose));\r\n                    }\r\n                }\r\n                break;\r\n            case 2 :\r\n                if(thisPiece.level !== 0) {\r\n                    for(let i = 1; i <= 9; i++) {\r\n                        const newMove = moveCalculate([i, i], thisPiece.whose);\r\n                        canMoveNum.push(newMove);\r\n                        if(!isPiece(newMove)) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    for(let i = 1; i <= 9; i++) {\r\n                        const newMove = moveCalculate([i, -i], thisPiece.whose);\r\n                        canMoveNum.push(newMove);\r\n                        if(!isPiece(newMove)) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    for(let i = 1; i <= 9; i++) {\r\n                        const newMove = moveCalculate([-i, i], thisPiece.whose);\r\n                        canMoveNum.push(newMove);\r\n                        if(!isPiece(newMove)) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    for(let i = 1; i <= 9; i++) {\r\n                        const newMove = moveCalculate([-i, -i], thisPiece.whose);\r\n                        canMoveNum.push(newMove);\r\n                        if(!isPiece(newMove)) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(thisPiece.level >= 2) {\r\n                        canMoveNum.push(moveCalculate([0, 1], thisPiece.whose));\r\n                        canMoveNum.push(moveCalculate([0, -1], thisPiece.whose));\r\n                        canMoveNum.push(moveCalculate([1, 0], thisPiece.whose));\r\n                        canMoveNum.push(moveCalculate([-1, 0], thisPiece.whose));\r\n                    }\r\n                }\r\n                break;\r\n            case 3 :\r\n                if(thisPiece.level === 1) {\r\n                    canMoveNum = [moveCalculate([0, -1], thisPiece.whose), moveCalculate([0, 1], thisPiece.whose), moveCalculate([1, 0], thisPiece.whose), moveCalculate([-1, 0], thisPiece.whose), \r\n                                    moveCalculate([1, -1], thisPiece.whose), moveCalculate([-1, -1], thisPiece.whose)];\r\n                } else if(thisPiece.level >= 2) {\r\n                    // canMoveNum = [moveCalculate([1, 0], thisPiece.whose), moveCalculate([0, 1], thisPiece.whose), moveCalculate([0, -1], thisPiece.whose), moveCalculate([-1, 0], thisPiece.whose), \r\n                    //                 moveCalculate([1, -1], thisPiece.whose), moveCalculate([-1, -1], thisPiece.whose), moveCalculate([0, -2], thisPiece.whose), moveCalculate([0, 2], thisPiece.whose), \r\n                    //                 moveCalculate([2, 0], thisPiece.whose), moveCalculate([-2, 0], thisPiece.whose)];\r\n                    canMoveNum = [moveCalculate([1, 0], thisPiece.whose), moveCalculate([0, 1], thisPiece.whose), moveCalculate([0, -1], thisPiece.whose), moveCalculate([-1, 0], thisPiece.whose), \r\n                                    moveCalculate([1, -1], thisPiece.whose), moveCalculate([-1, -1], thisPiece.whose)];\r\n                    if(isPiece(canMoveNum[0])) {\r\n                        canMoveNum.push(moveCalculate([2, 0], thisPiece.whose));\r\n                    }\r\n                    if(isPiece(canMoveNum[2])) {\r\n                        canMoveNum.push(moveCalculate([0, -2], thisPiece.whose));\r\n                    }\r\n                    if(isPiece(canMoveNum[3])) {\r\n                        canMoveNum.push(moveCalculate([-2, 0], thisPiece.whose));\r\n                    }\r\n                }\r\n                break;\r\n            case 4 :\r\n                if(thisPiece.level === 1) {\r\n                    canMoveNum = [moveCalculate([0, -1], thisPiece.whose), moveCalculate([0, 1], thisPiece.whose)];\r\n                } else if(thisPiece.level >= 2) {\r\n                    canMoveNum = [moveCalculate([0, -1], thisPiece.whose), moveCalculate([0, 1], thisPiece.whose)];\r\n                    if(isPiece(canMoveNum[0])) {\r\n                        canMoveNum.push(moveCalculate([0, -2], thisPiece.whose));\r\n                    }\r\n                    if(isPiece(canMoveNum[1])) {\r\n                        canMoveNum.push(moveCalculate([0, 2], thisPiece.whose));\r\n                    }\r\n                }\r\n                break;\r\n            case 5 :\r\n                if(thisPiece.level === 1) {\r\n                    canMoveNum = [moveCalculate([1, 1], thisPiece.whose), moveCalculate([1, -1], thisPiece.whose), moveCalculate([-1, 1], thisPiece.whose), moveCalculate([-1, -1], thisPiece.whose), moveCalculate([0, -1], thisPiece.whose)];\r\n                } else if(thisPiece.level >= 2) {\r\n                    canMoveNum = [moveCalculate([1, 1], thisPiece.whose), moveCalculate([1, -1], thisPiece.whose), moveCalculate([-1, 1], thisPiece.whose), moveCalculate([-1, -1], thisPiece.whose), moveCalculate([0, -1], thisPiece.whose)];\r\n                    if(isPiece(canMoveNum[0])) {\r\n                        canMoveNum.push(moveCalculate([2, 2], thisPiece.whose));\r\n                    }\r\n                    if(isPiece(canMoveNum[1])) {\r\n                        canMoveNum.push(moveCalculate([2, -2], thisPiece.whose));\r\n                    }\r\n                    if(isPiece(canMoveNum[2])) {\r\n                        canMoveNum.push(moveCalculate([-2, 2], thisPiece.whose));\r\n                    }\r\n                    if(isPiece(canMoveNum[3])) {\r\n                        canMoveNum.push(moveCalculate([-2, -2], thisPiece.whose));\r\n                    }\r\n                }\r\n                break;\r\n            case 6 :\r\n                if(thisPiece.level === 1) {\r\n                    canMoveNum = [moveCalculate([0, -1], thisPiece.whose), moveCalculate([0, 1], thisPiece.whose), moveCalculate([1, -1], thisPiece.whose), moveCalculate([-1, -1], thisPiece.whose)];\r\n                } else if(thisPiece.level >= 2) {\r\n                    canMoveNum = [moveCalculate([0, -1], thisPiece.whose), moveCalculate([0, 1], thisPiece.whose), moveCalculate([1, -1], thisPiece.whose), moveCalculate([-1, -1], thisPiece.whose), \r\n                    moveCalculate([1, 0], thisPiece.whose), moveCalculate([-1, 0], thisPiece.whose)];\r\n                    if(isPiece(canMoveNum[0])) {\r\n                        canMoveNum.push(moveCalculate([0, -2], thisPiece.whose));\r\n                    }\r\n                    if(isPiece(canMoveNum[2])) {\r\n                        canMoveNum.push(moveCalculate([2, -2], thisPiece.whose));\r\n                    }\r\n                    if(isPiece(canMoveNum[3])) {\r\n                        canMoveNum.push(moveCalculate([-2, -2], thisPiece.whose));\r\n                    }\r\n                }\r\n                break;\r\n            case 7 :\r\n                if(thisPiece.level === 1) {\r\n                    canMoveNum = [moveCalculate([0, 1], thisPiece.whose), moveCalculate([0, -1], thisPiece.whose), moveCalculate([1, 0], thisPiece.whose), moveCalculate([-1, 0], thisPiece.whose)];\r\n                } else if(thisPiece.level >= 2) {\r\n                    canMoveNum = [moveCalculate([0, 1], thisPiece.whose), moveCalculate([0, -1], thisPiece.whose), moveCalculate([1, 0], thisPiece.whose), moveCalculate([-1, 0], thisPiece.whose)];\r\n                    if(isPiece(canMoveNum[0])) {\r\n                        canMoveNum.push(moveCalculate([0, 2], thisPiece.whose));\r\n                    }\r\n                    if(isPiece(canMoveNum[1])) {\r\n                        canMoveNum.push(moveCalculate([0, -2], thisPiece.whose));\r\n                    }\r\n                    if(isPiece(canMoveNum[2])) {\r\n                        canMoveNum.push(moveCalculate([2, 0], thisPiece.whose));\r\n                    }\r\n                    if(isPiece(canMoveNum[3])) {\r\n                        canMoveNum.push(moveCalculate([-2, 0], thisPiece.whose));\r\n                    }\r\n                }\r\n                break;\r\n            case 8 :\r\n                if(thisPiece.level === 1) {\r\n                    canMoveNum = [moveCalculate([1, 2], thisPiece.whose), moveCalculate([1, -2], thisPiece.whose), moveCalculate([-1, 2], thisPiece.whose), moveCalculate([-1, -2], thisPiece.whose), \r\n                                        moveCalculate([2, 1], thisPiece.whose), moveCalculate([2, -1], thisPiece.whose), moveCalculate([-2, 1], thisPiece.whose), moveCalculate([-2, -1], thisPiece.whose)];\r\n                } else if(thisPiece.level >= 2) {\r\n                    canMoveNum = [moveCalculate([1, 2], thisPiece.whose), moveCalculate([1, -2], thisPiece.whose), moveCalculate([-1, 2], thisPiece.whose), moveCalculate([-1, -2], thisPiece.whose), \r\n                                    moveCalculate([2, 1], thisPiece.whose), moveCalculate([2, -1], thisPiece.whose), moveCalculate([-2, 1], thisPiece.whose), moveCalculate([-2, -1], thisPiece.whose),\r\n                                    moveCalculate([1, 0], thisPiece.whose), moveCalculate([-1, 0], thisPiece.whose), moveCalculate([0, 1], thisPiece.whose), moveCalculate([0, -1], thisPiece.whose)];\r\n                }\r\n                break;\r\n            case 9 :\r\n                if(thisPiece.level === 1) {\r\n                    canMoveNum = [moveCalculate([0, -1], thisPiece.whose), moveCalculate([0, 1], thisPiece.whose), moveCalculate([1, 0], thisPiece.whose), moveCalculate([-1, 0], thisPiece.whose), \r\n                                    moveCalculate([1, -1], thisPiece.whose), moveCalculate([-1, -1], thisPiece.whose), moveCalculate([1, 1], thisPiece.whose), moveCalculate([-1, 1], thisPiece.whose)];\r\n                } else if(thisPiece.level >= 2) {\r\n                    canMoveNum = [moveCalculate([0, -1], thisPiece.whose), moveCalculate([0, 1], thisPiece.whose), moveCalculate([1, 0], thisPiece.whose), moveCalculate([-1, 0], thisPiece.whose), \r\n                    moveCalculate([1, -1], thisPiece.whose), moveCalculate([-1, -1], thisPiece.whose), moveCalculate([1, 1], thisPiece.whose), moveCalculate([-1, 1], thisPiece.whose)];\r\n                }\r\n                break;\r\n            case 10 :\r\n                if(thisPiece.level !== 0) {\r\n                    for(let i = 1; i <= 9; i++) {\r\n                        const newMove = moveCalculate([0, i], thisPiece.whose);\r\n                        canMoveNum.push(newMove);\r\n                        if(!isPiece(newMove)) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    for(let i = 1; i <= 9; i++) {\r\n                        const newMove = moveCalculate([0, -i], thisPiece.whose);\r\n                        canMoveNum.push(newMove);\r\n                        if(!isPiece(newMove)) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if(thisPiece.level >= 2) {\r\n                    canMoveNum.push(moveCalculate([1, 0], thisPiece.whose));\r\n                    canMoveNum.push(moveCalculate([-1, 0], thisPiece.whose));\r\n                }\r\n                break;\r\n            case 11 :\r\n                canMoveNum = [moveCalculate([0, -1], thisPiece.whose), moveCalculate([1, 0], thisPiece.whose), moveCalculate([-1, 0], thisPiece.whose)];\r\n                break;\r\n            case 12 :\r\n                if(thisPiece.level === 1) {\r\n                    canMoveNum = [moveCalculate([0, -1], thisPiece.whose), moveCalculate([1, 1], thisPiece.whose), moveCalculate([-1, 1], thisPiece.whose), \r\n                                    moveCalculate([1, -2], thisPiece.whose), moveCalculate([-1, -2], thisPiece.whose)];\r\n                }\r\n                break;\r\n            case 13 :\r\n                if(thisPiece.level === 1) {\r\n                    canMoveNum = [moveCalculate([0, 1], thisPiece.whose), moveCalculate([1, 0], thisPiece.whose), moveCalculate([-1, 0], thisPiece.whose), \r\n                                    moveCalculate([1, -2], thisPiece.whose), moveCalculate([-1, -2], thisPiece.whose)];\r\n                }\r\n                break;\r\n        }\r\n        const checkedCanMove = isIncludeKing(canMoveNum);\r\n        const checkedRideable = checkRideable(checkedCanMove);\r\n        const checkedLevel = checkLevel(checkedRideable);\r\n\r\n        // console.log(checkedRideable);\r\n        // console.log(checkedLevel);\r\n        \r\n        setCanMove(checkedLevel);\r\n    }\r\n\r\n    const clickPiece = () => {\r\n        if (phase === 3) {\r\n            //\r\n            setClick(curPieces[thisNum]);\r\n            if (thisClickFlag === false) {\r\n                if (thisPiece.whose === turn){\r\n                    setClickFlag(!thisClickFlag);\r\n                    setSelect({num: thisNum, type: curPieces[thisNum].type, level: curPieces[thisNum].level});\r\n                    // setClick(curPieces[thisNum]);\r\n                    searchCanMove();\r\n                }\r\n            }else{\r\n                //\r\n                if(!canMove.includes(thisNum)){\r\n                    setClickFlag(!clickFlag);\r\n                    setSelect({num: -1, type: -1, level: 0});\r\n                    // setClick({type: -1, whose: 0, level: 0})\r\n                    setCanMove([]);\r\n                }\r\n            }\r\n            //\r\n            if (canMove.includes(thisNum)){\r\n                //\r\n                if (curPieces[thisNum].whose === 0){\r\n                    //\r\n                    if(select.num === 90){\r\n                        let newWhitePieces = Array.from(whitePieces);\r\n                        const arataIndex = newWhitePieces.indexOf(select.type);\r\n                        newWhitePieces.splice(arataIndex, 1);\r\n                        setWhitePieces(newWhitePieces);\r\n                        curPieces.splice(thisNum, 1, {type: select.type, whose: turn, level: 1});\r\n                        setYomifu(`${x + 1}-${y + 1}-${curPieces[thisNum].level}-${kanji[curPieces[thisNum].type]}-`);\r\n                    }else if(select.num === 91) {\r\n                        let newBlackPieces = Array.from(blackPieces);\r\n                        const arataIndex = newBlackPieces.indexOf(select.type);\r\n                        newBlackPieces.splice(arataIndex, 1);\r\n                        setBlackPieces(newBlackPieces);\r\n                        curPieces.splice(thisNum, 1, {type: select.type, whose: turn, level: 1});\r\n                        setYomifu(`${x + 1}-${y + 1}-${curPieces[thisNum].level}-${kanji[curPieces[thisNum].type]}-`);\r\n                    //\r\n                    } else {\r\n                        if (curPieces[select.num].level === 1) {\r\n                            curPieces.splice(thisNum, 1, {type: select.type, whose: turn, level: select.level});\r\n                            curPieces.splice(select.num, 1, {type: -1, whose: 0, level: 0});\r\n                        } else if (curPieces[select.num].level >= 2) {\r\n                            curPieces.splice(thisNum, 1, {type: select.type, whose: turn, level: 1});\r\n                            curPieces.splice(select.num, 1, curPieces[select.num].under);\r\n                        }\r\n                        setYomifu(`${x + 1}-${y + 1}-${curPieces[thisNum].level}-${kanji[curPieces[thisNum].type]}`);\r\n                    }\r\n                    setClickFlag(!clickFlag);\r\n                    addKifu(curPieces);\r\n                    checkBou();\r\n                }\r\n                //\r\n                else if (curPieces[thisNum].whose === turn){\r\n                    if(select.num >= 90) {\r\n                        setAttack({num: 3, offense: select.num, defense: thisNum, type: select.type});\r\n                    } else if(select.level >= curPieces[thisNum].level) {\r\n                        setModal(2);\r\n                        setAttack({num: -1, offense: select.num, defense: thisNum});\r\n                    }\r\n                }\r\n                //\r\n                if (curPieces[thisNum].whose === oppTurn){\r\n                    //\r\n                    //\r\n                    if(curPieces[thisNum].type === 0) {\r\n                        if(select.level === 3) {\r\n                            curPieces.splice(thisNum, 1, {type: select.type, whose: turn, level: 2, under: curPieces[thisNum]});\r\n                            curPieces.splice(select.num, 1, curPieces[select.num].under);\r\n                        } else if(select.level === 2) {\r\n                            curPieces.splice(thisNum, 1, {type: select.type, whose: turn, level: 1});\r\n                            curPieces.splice(select.num, 1, curPieces[select.num].under);\r\n                        } else {\r\n                            curPieces.splice(thisNum, 1, {type: select.type, whose: turn, level: 1});\r\n                            curPieces.splice(select.num, 1, {type: 0, whose: 0, level: 0});\r\n                        }\r\n                        addKifu(curPieces);\r\n                        setWinner(turn);\r\n                        setCurKifu(kifu.length);\r\n                        setPhase(4)\r\n                    } else if(select.type === 9) {\r\n                        setModal(2);\r\n                        setAttack({num: -1, offense: select.num, defense: thisNum});\r\n                    } else if(select.type === 0 || select.type === 9 || select.type > 10) {\r\n                        setModal(3);\r\n                        setAttack({num: -1, offense: select.num, defense: thisNum});\r\n                    } else if (select.level !== 3){\r\n                        if(select.level >= curPieces[thisNum].level) {\r\n                            setModal(1);\r\n                            setAttack({num: -1, offense: select.num, defense: thisNum});\r\n                        }\r\n                    } else {\r\n                        if(curPieces[thisNum].level === 3){\r\n                            setModal(3);\r\n                            setAttack({num: -1, offense: select.num, defense: thisNum});\r\n                        } else {\r\n                            setModal(1);\r\n                            setAttack({num: -1, offense: select.num, defense: thisNum});\r\n                        }\r\n                        \r\n                    }\r\n                }\r\n                setPieces(curPieces);\r\n                // setClickFlag(!clickFlag);\r\n                setSelect({num: -1, type: -1, level: 0});\r\n                setCanMove([]);\r\n                setTurn(oppTurn);\r\n                // console.log(bouCheck);\r\n            }\r\n        } else if (phase === 1 || phase === 2) {\r\n            if (canMove.includes(thisNum)){\r\n                if (curPieces[thisNum].whose === 0){\r\n                    if(select.num === 90){\r\n                        let newWhitePieces = Array.from(whitePieces);\r\n                        const arataIndex = newWhitePieces.indexOf(select.type);\r\n                        newWhitePieces.splice(arataIndex, 1);\r\n                        setWhitePieces(newWhitePieces);\r\n                        curPieces.splice(thisNum, 1, {type: select.type, whose: turn, level: 1});\r\n                        let curCanMove = [];\r\n                        for (let i = 0; i < 3; i++) {\r\n                            for (let j = 0; j < 9; j++) {\r\n                                curCanMove.push(10 * i + j);\r\n                            }\r\n                        }\r\n                        if(firstArata === false) {\r\n                            setSelect({num: 91, type: 0, level: 1});\r\n                            setCanMove(curCanMove);\r\n                            setFirstArata(true);\r\n                        } else {\r\n                            setSelect({num: -1, type: -1, level: 0});\r\n                            setCanMove([]);\r\n                        }\r\n                        setClickFlag(!clickFlag);\r\n                        setPieces(curPieces);\r\n                        setYomifu(`${x + 1}-${y + 1}-${curPieces[thisNum].level}-${kanji[curPieces[thisNum].type]}-`);\r\n                        addKifu(curPieces);\r\n                        if(phase === 1) {\r\n                            setTurn(oppTurn);\r\n                        } \r\n                    }else if(select.num === 91) {\r\n                        let newBlackPieces = Array.from(blackPieces);\r\n                        const arataIndex = newBlackPieces.indexOf(select.type);\r\n                        newBlackPieces.splice(arataIndex, 1);\r\n                        setBlackPieces(newBlackPieces);\r\n                        curPieces.splice(thisNum, 1, {type: select.type, whose: turn, level: 1});\r\n\r\n                        setClickFlag(!clickFlag);\r\n                        setPieces(curPieces);\r\n                        setYomifu(`${x + 1}-${y + 1}-${curPieces[thisNum].level}-${kanji[curPieces[thisNum].type]}-`);\r\n                        addKifu(curPieces);\r\n                        setSelect({num: -1, type: -1, level: 0});\r\n                        setCanMove([]);\r\n                        if(phase === 1) {\r\n                            setTurn(oppTurn);\r\n                        } \r\n                    }\r\n                } else if (curPieces[thisNum].whose === turn){\r\n                    if(select.num === 90){\r\n                        let newWhitePieces = Array.from(whitePieces);\r\n                        const arataIndex = newWhitePieces.indexOf(select.type);\r\n                        newWhitePieces.splice(arataIndex, 1);\r\n                        setWhitePieces(newWhitePieces);\r\n                        let newPiece = {};\r\n                        if(thisPiece.level < 3) {\r\n                            newPiece = {\r\n                                type: select.type, \r\n                                whose: turn, \r\n                                level: select.level + 1,\r\n                                under: thisPiece\r\n                            }\r\n                        }\r\n                        curPieces.splice(thisNum, 1, newPiece);\r\n\r\n                    }else if(select.num === 91) {\r\n                        let newBlackPieces = Array.from(blackPieces);\r\n                        const arataIndex = newBlackPieces.indexOf(select.type);\r\n                        newBlackPieces.splice(arataIndex, 1);\r\n                        setBlackPieces(newBlackPieces);\r\n                        let newPiece = {};\r\n\r\n                        if(thisPiece.level < 3) {\r\n                            newPiece = {\r\n                                type: select.type, \r\n                                whose: turn, \r\n                                level: select.level + 1,\r\n                                under: thisPiece\r\n                            }\r\n                        }\r\n                        curPieces.splice(thisNum, 1, newPiece);\r\n                    }\r\n                    setClickFlag(!clickFlag);\r\n                    setPieces(curPieces);\r\n                    setYomifu(`${x + 1}-${y + 1}-${curPieces[thisNum].level}-${kanji[curPieces[thisNum].type]}-`);\r\n                    addKifu(curPieces);\r\n                    setSelect({num: -1, type: -1, level: 0});\r\n                    setCanMove([]);\r\n                    if(phase === 1) {\r\n                        setTurn(oppTurn);\r\n                    } \r\n                }\r\n            }\r\n            console.log(firstArata);\r\n        }\r\n            // console.log(turn);\r\n            console.log({...curPieces[thisNum], thisNum: thisNum, params: thisPieceString});\r\n    }\r\n    return(\r\n        <button className={squareString} onClick={() =>{clickPiece()}}>\r\n            <div className={classString} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/${thisPieceString}.png)`}}></div>\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default Piece;","import React, { useContext } from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { PieceContext } from '../App'\r\nimport { OwnPiece } from \"./index.js\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    squareContainer: {\r\n        padding: 0,\r\n        margin: '0 auto',\r\n        width: 93,\r\n    },\r\n    squareContainerSub: {\r\n        height: 150,\r\n        backgroundColor: \"#F8BE75\",\r\n        border: '1px solid #333',\r\n        display: 'flex',\r\n        flexWrap: \"wrap\",\r\n        flexDirection: 'column',\r\n    }\r\n  }));\r\n\r\nconst OwnPieceArea = (props) => {\r\n    const classes = useStyles();\r\n    const { whitePieces, setWhitePieces } = useContext(PieceContext);\r\n    const { blackPieces, setBlackPieces } = useContext(PieceContext);\r\n\r\n    const curWhitePieces = Array.from(whitePieces)\r\n    const whiteTypes = curWhitePieces.filter(function (x, i, self) {\r\n        return self.indexOf(x) === i;\r\n      });\r\n\r\n    const curBlackPieces = Array.from(blackPieces)\r\n    const blackTypes = curBlackPieces.filter(function (x, i, self) {\r\n        return self.indexOf(x) === i;\r\n    });\r\n\r\n    return(\r\n        <div className={classes.squareContainer}>\r\n                 {props.isWhite \r\n                    ? <div className={classes.squareContainerSub}>\r\n                        {whiteTypes.map((index)=>{\r\n                            return(\r\n                                <OwnPiece isWhite={props.isWhite} index={index}/>\r\n                            )\r\n                        })}\r\n                        {/* {for(let i = 0; i < 14; i++){\r\n\r\n                        }} */}\r\n                    </div>\r\n                    : <div className={classes.squareContainerSub}>\r\n                        {blackTypes.map((index)=>{\r\n                            return(\r\n                                <OwnPiece isWhite={props.isWhite} index={index}/>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                 }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OwnPieceArea;","import React, { useContext } from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { PieceContext } from '../App'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        // display: 'flex',\r\n        margin: 0,\r\n        width: '50px',\r\n        // flexWrap: 'wrap',\r\n        // flexDirection: 'column',\r\n    },\r\n    square: {\r\n        width: 30,\r\n        height: 30,\r\n        borderWidth: 0,\r\n        // borderColor: 'black',\r\n        // boxSizing: \"border-box\",\r\n        // margin: -1,\r\n        // flexDirection: 'column',\r\n        backgroundColor: \"#F8BE75\",\r\n    },\r\n    piece: {\r\n        backgroundSize: \"contain\",\r\n        borderWidth: 0,\r\n        // boxSizing: \"border-box\",\r\n        width: 30,\r\n        // margin: -1,\r\n        height: 30,\r\n    },\r\n    selected: {\r\n        backgroundColor: \"#D0D0D0\",\r\n    },\r\n  }));\r\n\r\nconst OwnPiece = (props) => {\r\n    const classes = useStyles();\r\n    const { whitePieces, setWhitePieces } = useContext(PieceContext);\r\n    const { blackPieces, setBlackPieces } = useContext(PieceContext);\r\n    const { pieces, setPieces } = useContext(PieceContext);\r\n    const { turn, setTurn } = useContext(PieceContext);\r\n    const { select, setSelect } = useContext(PieceContext);\r\n    const { clickFlag, setClickFlag } = useContext(PieceContext);\r\n    const { canMove, setCanMove } = useContext(PieceContext);\r\n    const { modal, setModal } = useContext(PieceContext);\r\n    const { attack, setAttack } = useContext(PieceContext);\r\n    const { phase, setPhase } = useContext(PieceContext);\r\n    const { click, setlick } = useContext(PieceContext);\r\n    const { bouCheck, setBouCheck } = useContext(PieceContext);\r\n   \r\n    const thisType = props.index;\r\n    \r\n    // const thisPieceString = \"4-1-0\";\r\n\r\n    let whoseNum;\r\n    if(props.isWhite) {\r\n        whoseNum = 1;\r\n    } else {\r\n        whoseNum = 2;\r\n    }\r\n\r\n    let classString = `${classes.piece}`;\r\n    if (select.type === thisType && select.num === 89 + whoseNum) {\r\n        classString  += ` ${classes.selected}`;\r\n    } \r\n\r\n    let curOwnPieces;\r\n    if(props.isWhite){\r\n        curOwnPieces = Array.from(whitePieces);\r\n    } else {\r\n        curOwnPieces = Array.from(blackPieces);\r\n    }\r\n\r\n    let count = 0;\r\n    for(let i = 0; i < curOwnPieces.length; ++i){\r\n        if(curOwnPieces[i] == thisType)\r\n            count++;\r\n    }\r\n\r\n    let thisUnderColor;\r\n    if (count === 1) {\r\n        thisUnderColor = 0;\r\n    } else if (count === 2) {\r\n        if (whoseNum === 1) {\r\n            thisUnderColor = 1;\r\n        } else {\r\n            thisUnderColor = 2;\r\n        }\r\n    } else if (count === 3) {\r\n        if (whoseNum === 1) {\r\n            thisUnderColor = 3;\r\n        } else {\r\n            thisUnderColor = 6;\r\n        }\r\n    } else {\r\n        thisUnderColor = 7;\r\n    }\r\n\r\n    const thisPieceString = `piece${props.index}-${whoseNum}-${thisUnderColor}`;\r\n\r\n    const curPieces = Array.from(pieces);\r\n\r\n    const toggleWhose = (whose) => {\r\n        if (whose === 1) {\r\n            return 2;\r\n        } else {\r\n            return 1;\r\n        }\r\n    }\r\n    const oppTurn = toggleWhose(turn);\r\n\r\n    const checkAratable = (array) => {\r\n        const checkCanMove = array.filter((item) => {\r\n            if(item.type !== 0 && item.whose !== oppTurn && item.level !== 3) {\r\n                return true;\r\n            }\r\n        }).map((piece) => {\r\n            return piece.index;\r\n        })\r\n        return checkCanMove;\r\n    }\r\n\r\n    const searchCanMove1 = () => {\r\n        let curCanMove = [];\r\n        if(whoseNum === 1) {\r\n            if(thisType === 11) {\r\n                for (let i = 0; i < 9; i++) {\r\n                    curCanMove.push({...curPieces[80 + i], index: 80 + i});\r\n                }\r\n            } else {\r\n                for (let i = 6; i < 9; i++) {\r\n                    for (let j = 0; j < 9; j++) {\r\n                        curCanMove.push({...curPieces[10 * i + j], index: 10 * i + j});\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if(whoseNum === 2) {\r\n            if(thisType === 11) {\r\n                for (let i = 0; i < 9; i++) {\r\n                    curCanMove.push({...curPieces[i], index: i});\r\n                }\r\n            } else {\r\n                for (let i = 0; i < 3; i++) {\r\n                    for (let j = 0; j < 9; j++) {\r\n                        curCanMove.push({...curPieces[10 * i + j], index: 10 * i + j});\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        const checkedAratable = checkAratable(curCanMove);\r\n\r\n        setCanMove(checkedAratable);\r\n    }\r\n    \r\n    const searchCanMove2 = () => {\r\n        let curCanMove = [];\r\n        let WArea = 6;\r\n        if(bouCheck[0] < 6 && bouCheck[0] > 0) {\r\n            WArea = bouCheck[0]\r\n        }\r\n        if(whoseNum === 1) {\r\n            for (let i = WArea; i < 9; i++) {\r\n                for (let j = 0; j < 9; j++) {\r\n                    curCanMove.push({...curPieces[10 * i + j], index: 10 * i + j});\r\n                }\r\n            }\r\n        }\r\n        let BArea = 3;\r\n        if(bouCheck[1] >= 3) {\r\n            BArea = bouCheck[1] + 1\r\n        }\r\n        if(whoseNum === 2) {\r\n            for (let i = 0; i < BArea; i++) {\r\n                for (let j = 0; j < 9; j++) {\r\n                    curCanMove.push({...curPieces[10 * i + j], index: 10 * i + j});\r\n                }\r\n            }\r\n        }\r\n\r\n        const checkedAratable = checkAratable(curCanMove);\r\n\r\n        setCanMove(checkedAratable);\r\n    }\r\n\r\n    const clickPiece = () => {\r\n        if(phase === 1 || phase === 2) {\r\n            if (clickFlag === false) {\r\n                if (whoseNum === turn){\r\n                    setClickFlag(!clickFlag);\r\n                    setSelect({num: whoseNum + 89, type: thisType, level: 1});\r\n                    searchCanMove1();\r\n                }\r\n            }else{\r\n                //\r\n                if(select.num === whoseNum + 89){\r\n                    setClickFlag(!clickFlag);\r\n                    setSelect({num: -1, type: -1, level: 0});\r\n                    setCanMove([]);\r\n                }\r\n            }\r\n        } else if(phase === 3) {\r\n            console.log(bouCheck);\r\n                if (clickFlag === false) {\r\n                    if (whoseNum === turn){\r\n                        setClickFlag(!clickFlag);\r\n                        setSelect({num: whoseNum + 89, type: thisType, level: 1});\r\n                        searchCanMove2();\r\n                    }\r\n                }else{\r\n                    //\r\n                    if(select.num === whoseNum + 89){\r\n                        setClickFlag(!clickFlag);\r\n                        setSelect({num: -1, type: -1, level: 0});\r\n                        setCanMove([]);\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\n    return(\r\n        <button className={classes.square} onClick={() =>{clickPiece()}}>\r\n            <div className={classString} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/${thisPieceString}.png)`}}></div>\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default OwnPiece;","import React, { useContext } from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { PieceContext } from '../App'\r\nimport Button from '@material-ui/core/Button';\r\nimport useMedia from 'use-media';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paramsContainer: {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        flexDirection: \"column\",\r\n        width: 160,\r\n    },\r\n    button1: {\r\n        // margin: 5,\r\n        marginBottom: 10,\r\n        width: 160,\r\n      },\r\n    button1M: {\r\n        margin: \"0 10px 10px 10px\",\r\n        padding: \"6px 10px\",\r\n        // marginBottom: 10,\r\n        width: 140,\r\n    },\r\n    bunttonContainer: {\r\n        // display: \"flex\",\r\n        // justifyContent: \"space-between\",\r\n    },\r\n    button2: {\r\n        marginBottom: 10,\r\n    },\r\n    button2M: {\r\n        marginBottom: 10,\r\n    },\r\n  }));\r\n\r\nconst Params = (props) => {\r\n    const classes = useStyles();\r\n    const { phase, setPhase } = useContext(PieceContext);\r\n    const { select, setSelect } = useContext(PieceContext);\r\n    const { canMove, setCanMove } = useContext(PieceContext);\r\n    const { whitePieces, setWhitePieces } = useContext(PieceContext);\r\n    const { blackPieces, setBlackPieces } = useContext(PieceContext);\r\n    const { clickFlag, setClickFlag } = useContext(PieceContext);\r\n    const { turn, setTurn } = useContext(PieceContext);\r\n    const { pieces, setPieces } = useContext(PieceContext);\r\n    const { winner, setWinner } = useContext(PieceContext);\r\n    const { kifu, setKifu } = useContext(PieceContext);\r\n    const { yomifu, setYomifu } = useContext(PieceContext);\r\n    const { click, setClick } = useContext(PieceContext);\r\n    const { bouCheck, setBouCheck } = useContext(PieceContext);\r\n    const { curKifu, setCurKifu } = useContext(PieceContext);\r\n\r\n    const isWide = useMedia({minWidth: '769px'});\r\n    let button1String = \"\";\r\n    if(isWide) {\r\n        button1String = `${classes.button1}`;\r\n    } else {\r\n        button1String = `${classes.button1M}`;\r\n    }\r\n    let button2String = \"\";\r\n    if(isWide) {\r\n        button2String = `${classes.button2}`;\r\n    } else {\r\n        button2String = `${classes.button2M}`;\r\n    }\r\n    const kanji = ['', '', '', '', '', '', '', '', '', '', '', '', '', ''];\r\n\r\n    let clickString1 = \"\";\r\n    let clickString2 = \"\";\r\n    let clickString3 = \"\";\r\n    if(click.level === 1) {\r\n        clickString1 = `${kanji[click.type]}`\r\n    } \r\n    if(click.level === 2) {\r\n        clickString1 = `${kanji[click.type]}`\r\n        clickString2 = `${kanji[click.under.type]}`\r\n    }\r\n    if(click.level === 3) {\r\n        clickString1 = `${kanji[click.type]}`\r\n        clickString2 = `${kanji[click.under.type]}`\r\n        clickString3 = `${kanji[click.under.under.type]}`\r\n    }\r\n    const templateSet = () => {\r\n        let templateSetSub = new Array(89).fill({type: -1, whose: 0, level: 0});\r\n\r\n        const culcuTemplateSet = (num, type, level, under1, under2) => {\r\n            const x = 8 - (num % 10);\r\n            const y = 8 - ((num - (8 - x)) / 10);\r\n            const oppNum = y * 10 + x;\r\n            if(level === 1) {\r\n                templateSetSub.splice(num, 1, {type: type, whose: 1, level: 1});\r\n                templateSetSub.splice(oppNum, 1, {type: type, whose: 2, level: 1});\r\n            } \r\n            if(level === 2) {\r\n                templateSetSub.splice(num, 1, {type: type, whose: 1, level: 2, under: {type: under1, whose: 1, level: 1}});\r\n                templateSetSub.splice(oppNum, 1, {type: type, whose: 2, level: 2, under: {type: under1, whose: 2, level: 1}});\r\n            }\r\n            if(level === 3) {\r\n                templateSetSub.splice(num, 1, {type: type, whose: 1, level: 3, under: {type: under1, whose: 1, level: 2, under: {type: under2, whose: 1, level: 1}}});\r\n                templateSetSub.splice(oppNum, 1, {type: type, whose: 2, level: 3, under: {type: under1, whose: 2, level: 2, under: {type: under2, whose: 2, level: 1}}});\r\n            } \r\n        }\r\n        // culcuTemplateSet(84, 0, 1);\r\n        // culcuTemplateSet(74, 12, 1);\r\n        // culcuTemplateSet(64, 6, 1);\r\n        // culcuTemplateSet(63, 4, 1);\r\n        // culcuTemplateSet(65, 4, 1);\r\n        // culcuTemplateSet(62, 7, 1);\r\n        // culcuTemplateSet(66, 7, 1);\r\n        // culcuTemplateSet(73, 1, 2, 6);\r\n        // culcuTemplateSet(75, 2, 2, 13);\r\n        // culcuTemplateSet(70, 5, 2, 9);\r\n        // culcuTemplateSet(78, 5, 2, 9);\r\n        // culcuTemplateSet(61, 3, 2, 4);\r\n        // culcuTemplateSet(67, 3, 2, 4);\r\n        // culcuTemplateSet(82, 8, 3, 10, 10);\r\n        // culcuTemplateSet(86, 8, 3, 10, 11);\r\n\r\n        culcuTemplateSet(84, 0, 1);\r\n        culcuTemplateSet(74, 12, 1);\r\n        culcuTemplateSet(64, 6, 1);\r\n        culcuTemplateSet(63, 4, 1);\r\n        culcuTemplateSet(65, 4, 1);\r\n        culcuTemplateSet(62, 7, 1);\r\n        culcuTemplateSet(66, 7, 1);\r\n        culcuTemplateSet(61, 3, 1);\r\n        culcuTemplateSet(67, 3, 1);\r\n        culcuTemplateSet(80, 11, 1);\r\n        culcuTemplateSet(73, 1, 2, 10);\r\n        culcuTemplateSet(75, 2, 2, 10);\r\n        culcuTemplateSet(82, 8, 3, 5, 9);\r\n        culcuTemplateSet(86, 8, 3, 5, 9);\r\n        \r\n\r\n        // templateSetSub.splice(44, 1, {type: 5, whose: 1, level: 1});\r\n        // templateSetSub.splice(44, 1, {type: 5, whose: 1, level: 2, under: {type: 1, whose: 1, level: 1}});\r\n        return templateSetSub;\r\n    }\r\n    const checkBou = () => {\r\n        const curWPiece = pieces.filter((piece) => {\r\n            return piece.whose === 1;\r\n        })\r\n        const curBPiece = pieces.filter((piece) => {\r\n            return piece.whose === 2;\r\n        })\r\n        const checkBouW = curWPiece.some((piece) => {\r\n            return piece.type === 11;\r\n        })\r\n        const checkBouB = curBPiece.some((piece) => {\r\n            return piece.type === 11;\r\n        })\r\n        setBouCheck([checkBouW, checkBouB]);\r\n    }\r\n\r\n    const start = () => {\r\n        const initPieces = new Array(89).fill({type: -1, whose: 0, level: 0});\r\n        let initWhitePieces = new Array(25 - 3);\r\n        for (let i = 0; i < 14; i++) {\r\n        initWhitePieces[i] = i;\r\n        }\r\n        for (let i = 3; i < 11; i++) {\r\n        initWhitePieces[i + 14 - 3] = i;\r\n        }\r\n        initWhitePieces.push(4);\r\n        initWhitePieces.push(4);\r\n        initWhitePieces.push(10);\r\n        initWhitePieces.sort(function(a, b) {\r\n        return a - b;\r\n        });\r\n\r\n        let initBlackPieces = new Array(25 - 3);\r\n        for (let i = 0; i < 14; i++) {\r\n        initBlackPieces[i] = i;\r\n        }\r\n        for (let i = 3; i < 11; i++) {\r\n        initBlackPieces[i + 14 - 3] = i;\r\n        }\r\n        initBlackPieces.push(4);\r\n        initBlackPieces.push(4);\r\n        initBlackPieces.push(10);\r\n\r\n        initBlackPieces.sort(function(a, b) {\r\n        return b - a;\r\n        });\r\n        setPhase(1);\r\n        setSelect({num: 90, type: 0, level: 1});\r\n        let curCanMove = [];\r\n        for (let i = 6; i < 9; i++) {\r\n            for (let j = 0; j < 9; j++) {\r\n                curCanMove.push(10 * i + j);\r\n            }\r\n        }\r\n        setPieces(initPieces);\r\n        setYomifu([]);\r\n        setClickFlag(false);\r\n        setCanMove(curCanMove);\r\n        setWhitePieces(initWhitePieces);\r\n        setBlackPieces(initBlackPieces);\r\n        setTurn(1);\r\n        setKifu([initPieces]);\r\n    }\r\n    const toggleWhose = (turn) => {\r\n        if (turn === 1) {\r\n            return 2;\r\n        } else {\r\n            return 1;\r\n        }\r\n    }\r\n    const oppTurn = toggleWhose(turn);\r\n\r\n    const endPut = () => {\r\n        const curPhase = phase;\r\n        if (phase === 2) {\r\n            setTurn(oppTurn);\r\n        }\r\n        setPhase(curPhase + 1);\r\n        checkBou();\r\n    }\r\n\r\n    const quickStart = () => {\r\n        setPhase(3);\r\n        setYomifu([]);\r\n        setPieces(templateSet());\r\n        setWhitePieces([4, 4, 6, 10, 13]);\r\n        setBlackPieces([4, 4, 6, 10, 13]);\r\n        setClickFlag(false);\r\n        setTurn(1);\r\n        setKifu([templateSet()])\r\n    }\r\n\r\n    const displayKifu = (direction) => {\r\n        if(direction === true) {\r\n            //\r\n            const befCurKifu = curKifu;\r\n            setCurKifu(befCurKifu - 1); \r\n            setPieces(kifu[befCurKifu - 1]);\r\n        } \r\n        if(direction === false) {\r\n            //\r\n            const befCurKifu = curKifu;\r\n            setCurKifu(befCurKifu + 1); \r\n            setPieces(kifu[befCurKifu + 1]);\r\n        }\r\n    }\r\n\r\n    if(phase === 0) {\r\n        return(\r\n            <div className={classes.paramsContainer}>\r\n                <Button \r\n                            variant=\"contained\" \r\n                            color=\"primary\" \r\n                            className={button1String}\r\n                            onClick={() => start()}\r\n                >\r\n                    \r\n                </Button>\r\n                <Button \r\n                            variant=\"contained\" \r\n                            color=\"primary\" \r\n                            className={button1String}\r\n                            onClick={() => quickStart()}\r\n                >\r\n                    \r\n                </Button>\r\n            </div>\r\n            \r\n        )\r\n    } else if(phase === 1 || phase === 2) {\r\n        const numString = `${kifu.length }`;\r\n        let sumiBotton;\r\n        if(phase === 1) {\r\n            if(turn === 2) {\r\n                sumiBotton = <Button \r\n                                variant=\"contained\" \r\n                                color=\"primary\" \r\n                                className={button1String}\r\n                                onClick={() => endPut()}\r\n                            >\r\n                                \r\n                            </Button>\r\n            } else {\r\n                sumiBotton = <Button \r\n                                variant=\"contained\" \r\n                                color=\"primary\" \r\n                                className={button1String}\r\n                                onClick={() => endPut()}\r\n                            >\r\n                                \r\n                            </Button>\r\n            }\r\n        } else {\r\n            if(turn === 1) {\r\n                sumiBotton = <Button \r\n                                variant=\"contained\" \r\n                                color=\"primary\" \r\n                                className={button1String}\r\n                                onClick={() => endPut()}\r\n                            >\r\n                                \r\n                            </Button>\r\n            } else {\r\n                sumiBotton = <Button \r\n                                variant=\"contained\" \r\n                                color=\"primary\" \r\n                                className={button1String}\r\n                                onClick={() => endPut()}\r\n                            >\r\n                                \r\n                            </Button>\r\n            }\r\n        }\r\n        return(\r\n            <div className={classes.paramsContainer}>\r\n                {sumiBotton}\r\n                <div>\r\n                    {numString}\r\n                </div>\r\n                <div>\r\n                    {yomifu}\r\n                </div>\r\n            </div>\r\n        )\r\n    } else if (phase === 3) {\r\n        // const numString = `${kifu.length + 1}`;\r\n        const numString = `${kifu.length }`;\r\n        let turnString = \"\";\r\n        if(turn === 1) {\r\n            turnString += \"\";\r\n        } else {\r\n            turnString += \"\";\r\n        }\r\n        return (\r\n            <div className={classes.paramsContainer}>\r\n                <div>\r\n                    {turnString}\r\n                </div>\r\n                <div>\r\n                    {numString}\r\n                </div>\r\n                <div>\r\n                    {yomifu}\r\n                </div>\r\n                <div>\r\n                    {clickString1}\r\n                </div>\r\n                <div>\r\n                    {clickString2}\r\n                </div>\r\n                <div>\r\n                    {clickString3}\r\n                </div>\r\n            </div>\r\n        )\r\n    } else if(phase === 4) {\r\n        const numString = `${curKifu}`;\r\n        let winnerString = \"\";\r\n        if(winner === 1) {\r\n            winnerString = \"\";\r\n        } else {\r\n            winnerString = \"\";\r\n        }\r\n        let prevKifuButton = \"\";\r\n        if(curKifu > 0) {\r\n            prevKifuButton = <Button\r\n                                variant=\"contained\" \r\n                                className={button2String}\r\n                                color=\"primary\" \r\n                                onClick={() => displayKifu(true)}\r\n                            ></Button>\r\n        } else {\r\n            prevKifuButton = <Button\r\n                                variant=\"contained\" \r\n                                className={button2String}\r\n                            ></Button>\r\n        }\r\n        let nextKifuButton = \"\";\r\n        if(curKifu < kifu.length - 1) {\r\n            nextKifuButton = <Button\r\n                                variant=\"contained\" \r\n                                className={button2String}\r\n                                color=\"primary\" \r\n                                onClick={() => displayKifu(false)}\r\n                            ></Button>\r\n        } else {\r\n            nextKifuButton = <Button\r\n                                variant=\"contained\" \r\n                                className={button2String}\r\n                            ></Button>\r\n        }\r\n        return(\r\n            <div className={classes.paramsContainer}>\r\n                <div>\r\n                    {numString}\r\n                </div>\r\n                <div>\r\n                     :{winnerString}\r\n                </div> \r\n                <div className={classes.bunttonContainer}>\r\n                    {prevKifuButton}\r\n                    {nextKifuButton}\r\n                </div>\r\n                <Button \r\n                            variant=\"contained\" \r\n                            color=\"primary\" \r\n                            className={button1String}\r\n                            onClick={() => start()}\r\n                >\r\n                    \r\n                </Button>\r\n                <Button \r\n                            variant=\"contained\" \r\n                            color=\"primary\" \r\n                            className={button1String}\r\n                            onClick={() => quickStart()}\r\n                >\r\n                    \r\n                </Button>\r\n            </div>\r\n        )\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default Params;","import * as React from 'react';\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\n// import ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport { makeStyles } from '@mui/styles';\r\nimport useMedia from 'use-media';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        height: 428,\r\n        overflowX: \"scroll\",\r\n        overflowY: \"scroll\",\r\n    },\r\n    containerM: {\r\n        height: 324,\r\n        overflowX: \"scroll\",\r\n        overflowY: \"scroll\",\r\n    },\r\n    type: {\r\n        display: \"flex\",\r\n        flexWrap: \"nowrap\",\r\n\t    justifyContent: \"unset\",\r\n    },\r\n    images: {\r\n        // minWidth: \"30%\",\r\n        height: 250,\r\n        minWidth: 250,\r\n        backgroundSize: \"contain\",\r\n    },\r\n    contents: {\r\n        // overflowY: \"scroll\",\r\n    },\r\n    // accoContainer: {\r\n    // },\r\n  }));\r\nconst Rule = () => {\r\n    const classes = useStyles();\r\n    const isWide = useMedia({minWidth: '769px'});\r\n    let containerString = \"\";\r\n    if(isWide) {\r\n        containerString = `${classes.container}`;\r\n    } else {\r\n        containerString = `${classes.containerM}`;\r\n    }\r\n    return(\r\n        <div className={containerString}>\r\n            <Accordion>\r\n                <AccordionSummary\r\n                    // expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                    id=\"panel1a-header\"\r\n                >\r\n                    <Typography></Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <Typography>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move00-1.png)`}}></div>\r\n                        </div>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move01-1.png)`}}></div>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move01-2.png)`}}></div>\r\n                        </div>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move02-1.png)`}}></div>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move02-2.png)`}}></div>\r\n                        </div>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move03-1.png)`}}></div>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move03-2.png)`}}></div>\r\n                        </div>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move04-1.png)`}}></div>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move04-2.png)`}}></div>\r\n                        </div>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move05-1.png)`}}></div>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move05-2.png)`}}></div>\r\n                        </div>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move06-1.png)`}}></div>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move06-2.png)`}}></div>\r\n                        </div>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move07-1.png)`}}></div>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move07-2.png)`}}></div>\r\n                        </div>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move08-1.png)`}}></div>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move08-2.png)`}}></div>\r\n                        </div>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move09-1.png)`}}></div>\r\n                        </div>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move10-1.png)`}}></div>\r\n                        </div>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move11-1.png)`}}></div>\r\n                        </div>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move12-1.png)`}}></div>\r\n                        </div>\r\n                        <div className={classes.type}>\r\n                            <div className={classes.images} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/move13-1.png)`}}></div>\r\n                        </div>\r\n                    </Typography>\r\n                </AccordionDetails>\r\n            </Accordion>\r\n            <Accordion className={classes.accoContainer}>\r\n                <AccordionSummary\r\n                    // expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                    id=\"panel1a-header\"\r\n                >\r\n                    <Typography></Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails className={classes.contents}>\r\n                    <Typography>\r\n                    1.()\r\n                    <br />\r\n                    <br />\r\n                    2.(3)\r\n                    <br />\r\n                    <br />\r\n                    3.\r\n                    <br />\r\n                    <br />\r\n                    4.\r\n                    \r\n                    \r\n                    \r\n                    <br />\r\n                    <br />\r\n                    5.\r\n                    <br />\r\n                    <br />\r\n                    6.3\r\n                    <br />\r\n                    <br />\r\n                    7.\r\n                    2,3()\r\n                    <br />\r\n                    <br />\r\n                    8.\r\n                    <br />\r\n                    2\r\n                    \r\n                    </Typography>\r\n                </AccordionDetails>\r\n            </Accordion>\r\n            <Accordion>\r\n                <AccordionSummary\r\n                    // expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                    id=\"panel1a-header\"\r\n                >\r\n                    <Typography></Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <Typography>\r\n                    (\r\n                    <br />\r\n                    \r\n                    <br />\r\n                    <br />\r\n                    (\r\n                    <br />\r\n                    \r\n                    <br />\r\n                    <br />\r\n                    ()\r\n                    <br />\r\n                    \r\n                    <br />\r\n                    <br />\r\n                    \r\n                    <br />\r\n                    3\r\n                    1\r\n                    </Typography>\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Rule","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}